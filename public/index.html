<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta name="referrer" content="no-referrer" />
      <meta charset="utf-8" />
       
      <meta name="keywords" content="JavaScript" />
       
      <meta name="description" content="å’šå’šå’šå’šå’šæ£Ÿdeåšå®¢" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>
         å’šå’šå’šå’šå’šæ£Ÿdeåšå®¢
      </title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">
 
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">
 
<link rel="stylesheet" href="/css/custom.css">
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
 

    <link rel="alternate" href="/atom.xml" title="å’šå’šå’šå’šå’šæ£Ÿ" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
      <canvas width="1777" height="841"
        style="position: fixed; left: 0px; top: 0px; z-index: 99999; pointer-events: none;"></canvas>
      
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">å’šå’šå’šå’šå’šæ£Ÿ</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['é¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€', 'æ„¿ä½ ä¸€ç”ŸåŠªåŠ›ï¼Œä¸€ç”Ÿè¢«çˆ±', 'æƒ³è¦çš„éƒ½æ‹¥æœ‰ï¼Œå¾—ä¸åˆ°çš„éƒ½é‡Šæ€€'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article
  id="post-20240506-autolog"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2024/05/06/20240506-autolog/"
    >ç®€æ´çš„log</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2024/05/06/20240506-autolog/" class="article-date">
  <time datetime="2024-05-05T16:00:00.000Z" itemprop="datePublished">2024-05-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">å­¦ä¹ </a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
 
      <script src="//cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
      <!-- <script src="//dqtwdd.top/cdn/article-insert/article-insert.js?v_0.2"></script> -->
      <!-- <script>
        if (location.pathname.length > 1) {
          let title = $('[itemprop="name"]')[0].innerHTML.replace(
            /^\s*|\s*$/g,
            ''
          );
          console.log('pathname', title, location.pathname.length);
        }
      </script> -->
      <p> ç®€æ´çš„log</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cssStr = <span class="string">`#autolog&#123;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;pointer-events:none;width:100vw;height:100vh;position:fixed;left:0;top:0;z-index:9999999;cursor:pointer;transition:0.2s&#125;#autolog span&#123;pointer-events:auto;width:max-content;animation:fadein 0.4s;animation-delay:0s;border-radius:6px;padding:10px 20px;box-shadow:0 0 10px 6px rgba(0,0,0,0.1);margin:4px;transition:0.2s;z-index:9999999;font-size:14px;display:flex;align-items:center;justify-content:center;gap:4px;height:max-content&#125;#autolog span.hide&#123;opacity:0;pointer-events:none;transform:translateY(-10px);height:0;padding:0;margin:0&#125;.autolog-warn&#123;background-color:#fffaec;color:#e29505&#125;.autolog-error&#123;background-color:#fde7e7;color:#d93025&#125;.autolog-info&#123;background-color:#e6f7ff;color:#0e6eb8&#125;.autolog-success&#123;background-color:#e9f7e7;color:#1a9e2c&#125;.autolog-&#123;background-color:#fafafa;color:#333&#125;@keyframes fadein&#123;0%&#123;opacity:0;transform:translateY(-10px)&#125;100%&#123;opacity:1;transform:translateY(0)&#125;&#125;`</span>;</span><br><span class="line"><span class="keyword">const</span> svgIcons = &#123;</span><br><span class="line">  <span class="attr">warn</span>: <span class="string">`&lt;svg t=&quot;1713405237257&quot; class=&quot;icon&quot; viewBox=&quot;0 0 1024 1024&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; p-id=&quot;2387&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;16&quot; height=&quot;16&quot;&gt;&lt;path d=&quot;M934.4 770.133333L605.866667 181.333333C586.666667 147.2 550.4 128 512 128c-38.4 0-74.666667 21.333333-93.866667 53.333333L89.6 770.133333c-19.2 34.133333-19.2 76.8 0 110.933334S145.066667 938.666667 183.466667 938.666667h657.066666c38.4 0 74.666667-21.333333 93.866667-57.6 19.2-34.133333 19.2-76.8 0-110.933334z m-55.466667 81.066667c-8.533333 14.933333-23.466667 23.466667-38.4 23.466667H183.466667c-14.933333 0-29.866667-8.533333-38.4-23.466667-8.533333-14.933333-8.533333-34.133333 0-49.066667L473.6 213.333333c8.533333-12.8 23.466667-21.333333 38.4-21.333333s29.866667 8.533333 38.4 21.333333l328.533333 588.8c8.533333 14.933333 8.533333 32 0 49.066667z&quot; fill=&quot;#e29505&quot; p-id=&quot;2388&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M512 746.666667m-42.666667 0a42.666667 42.666667 0 1 0 85.333334 0 42.666667 42.666667 0 1 0-85.333334 0Z&quot; fill=&quot;#e29505&quot; p-id=&quot;2389&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M512 629.333333c17.066667 0 32-14.933333 32-32v-192c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v192c0 17.066667 14.933333 32 32 32z&quot; fill=&quot;#e29505&quot; p-id=&quot;2390&quot;&gt;&lt;/path&gt;&lt;/svg&gt;`</span>,</span><br><span class="line">  <span class="attr">error</span>: <span class="string">`&lt;svg t=&quot;1713405212725&quot; class=&quot;icon&quot; viewBox=&quot;0 0 1024 1024&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; p-id=&quot;1744&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;16&quot; height=&quot;16&quot;&gt;&lt;path d=&quot;M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z&quot; fill=&quot;#d93025&quot; p-id=&quot;1745&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M657.066667 360.533333c-12.8-12.8-32-12.8-44.8 0l-102.4 102.4-102.4-102.4c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l102.4 102.4-102.4 102.4c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933333 8.533333 23.466666 8.533334s17.066667-2.133333 23.466667-8.533334l102.4-102.4 102.4 102.4c6.4 6.4 14.933333 8.533333 23.466667 8.533334s17.066667-2.133333 23.466666-8.533334c12.8-12.8 12.8-32 0-44.8l-106.666666-100.266666 102.4-102.4c12.8-12.8 12.8-34.133333 0-46.933334z&quot; fill=&quot;#d93025&quot; p-id=&quot;1746&quot;&gt;&lt;/path&gt;&lt;/svg&gt;`</span>,</span><br><span class="line">  <span class="attr">info</span>: <span class="string">`&lt;svg t=&quot;1713405208589&quot; class=&quot;icon&quot; viewBox=&quot;0 0 1024 1024&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; p-id=&quot;1582&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;16&quot; height=&quot;16&quot;&gt;&lt;path d=&quot;M853.333333 138.666667H170.666667c-40.533333 0-74.666667 34.133333-74.666667 74.666666v512c0 40.533333 34.133333 74.666667 74.666667 74.666667h151.466666V917.333333c0 12.8 8.533333 25.6 19.2 29.866667 4.266667 2.133333 8.533333 2.133333 12.8 2.133333 8.533333 0 17.066667-4.266667 23.466667-10.666666l136.533333-138.666667H853.333333c40.533333 0 74.666667-34.133333 74.666667-74.666667V213.333333c0-40.533333-34.133333-74.666667-74.666667-74.666666z m10.666667 586.666666c0 6.4-4.266667 10.666667-10.666667 10.666667H501.333333c-8.533333 0-17.066667 4.266667-23.466666 10.666667l-89.6 93.866666V768c0-17.066667-14.933333-32-32-32H170.666667c-6.4 0-10.666667-4.266667-10.666667-10.666667V213.333333c0-6.4 4.266667-10.666667 10.666667-10.666666h682.666666c6.4 0 10.666667 4.266667 10.666667 10.666666v512z&quot; fill=&quot;#0e6eb8&quot; p-id=&quot;1583&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M512 490.666667H298.666667c-17.066667 0-32 14.933333-32 32S281.6 554.666667 298.666667 554.666667h213.333333c17.066667 0 32-14.933333 32-32S529.066667 490.666667 512 490.666667zM672 341.333333H298.666667c-17.066667 0-32 14.933333-32 32S281.6 405.333333 298.666667 405.333333h373.333333c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32z&quot; fill=&quot;#0e6eb8&quot; p-id=&quot;1584&quot;&gt;&lt;/path&gt;&lt;/svg&gt;`</span>,</span><br><span class="line">  <span class="attr">success</span>: <span class="string">`&lt;svg t=&quot;1713405224326&quot; class=&quot;icon&quot; viewBox=&quot;0 0 1024 1024&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; p-id=&quot;2225&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;16&quot; height=&quot;16&quot;&gt;&lt;path d=&quot;M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z&quot; fill=&quot;#1a9e2c&quot; p-id=&quot;2226&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M701.866667 381.866667L448 637.866667 322.133333 512c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l149.333334 149.333333c6.4 6.4 14.933333 8.533333 23.466666 8.533334s17.066667-2.133333 23.466667-8.533334l277.333333-277.333333c12.8-12.8 12.8-32 0-44.8-14.933333-12.8-36.266667-12.8-49.066666-2.133333z&quot; fill=&quot;#1a9e2c&quot; p-id=&quot;2227&quot;&gt;&lt;/path&gt;&lt;/svg&gt;`</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> autolog = &#123;</span><br><span class="line">  <span class="title function_">log</span>(<span class="params">text, type = <span class="string">&quot;&quot;</span>, time = <span class="number">2500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> type === <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">      time = type;</span><br><span class="line">      type = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> mainEl = <span class="title function_">getMainElement</span>();</span><br><span class="line">    <span class="keyword">let</span> el = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">    el.<span class="property">className</span> = <span class="string">`autolog-<span class="subst">$&#123;type&#125;</span>`</span>;</span><br><span class="line">    el.<span class="property">innerHTML</span> = svgIcons[type] + text;</span><br><span class="line">    mainEl.<span class="title function_">appendChild</span>(el);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      el.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;hide&quot;</span>);</span><br><span class="line">    &#125;, time - <span class="number">500</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      mainEl.<span class="title function_">removeChild</span>(el);</span><br><span class="line">      el = <span class="literal">null</span>;</span><br><span class="line">    &#125;, time);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getMainElement</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> mainEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#autolog&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (!mainEl) &#123;</span><br><span class="line">    mainEl = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">    mainEl.<span class="property">id</span> = <span class="string">&quot;autolog&quot;</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(mainEl);</span><br><span class="line">    <span class="keyword">let</span> style = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;style&quot;</span>);</span><br><span class="line">    style.<span class="property">innerHTML</span> = cssStr;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">insertBefore</span>(style, <span class="variable language_">document</span>.<span class="property">head</span>.<span class="property">firstChild</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> mainEl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> autolog;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">å­¦ä¹ </a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-20230320-web-worker"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/20/20230320-web-worker/"
    >web-worker</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2023/03/20/20230320-web-worker/" class="article-date">
  <time datetime="2023-03-19T16:00:00.000Z" itemprop="datePublished">2023-03-20</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">å­¦ä¹ </a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>å…³äºweb-workerçš„å­¦ä¹ æ€»ç»“ã€‚</p> 
      <a class="article-more-link" href="/2023/03/20/20230320-web-worker/"
        >é˜…è¯»æ›´å¤š...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">å­¦ä¹ </a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-20230227-miniProgram"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/02/27/20230227-miniProgram/"
    >å°ç¨‹åºåˆ†äº«æ€»ç»“</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2023/02/27/20230227-miniProgram/" class="article-date">
  <time datetime="2023-02-26T16:00:00.000Z" itemprop="datePublished">2023-02-27</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E4%BD%9C/">å·¥ä½œ</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
 
      <script src="//cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
      <!-- <script src="//dqtwdd.top/cdn/article-insert/article-insert.js?v_0.2"></script> -->
      <!-- <script>
        if (location.pathname.length > 1) {
          let title = $('[itemprop="name"]')[0].innerHTML.replace(
            /^\s*|\s*$/g,
            ''
          );
          console.log('pathname', title, location.pathname.length);
        }
      </script> -->
      <h1 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h1><h2 id="1-ä»€ä¹ˆæ˜¯å°ç¨‹åº"><a href="#1-ä»€ä¹ˆæ˜¯å°ç¨‹åº" class="headerlink" title="1. ä»€ä¹ˆæ˜¯å°ç¨‹åº"></a>1. ä»€ä¹ˆæ˜¯å°ç¨‹åº</h2><p>å°ç¨‹åºæ˜¯ä¸€ä¸ªä¸éœ€è¦ä¸‹è½½å’Œå®‰è£…çš„åº”ç”¨ã€‚</p>
<h2 id="2-App-å°ç¨‹åº-H5å¯¹æ¯”"><a href="#2-App-å°ç¨‹åº-H5å¯¹æ¯”" class="headerlink" title="2. App/å°ç¨‹åº/H5å¯¹æ¯”"></a>2. App/å°ç¨‹åº/H5å¯¹æ¯”</h2><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul>
<li>ã€APPã€‘ <ol>
<li>è¿è¡Œé€Ÿåº¦å¿«ï¼Œä½“éªŒå¥½ã€‚ </li>
<li>å¯ä½¿ç”¨åº•å±‚çš„è®¾å¤‡åŠŸèƒ½ï¼Œå¦‚æ‘„åƒå¤´ã€æ–¹å‘ä¼ æ„Ÿå™¨ã€é‡åŠ›ä¼ æ„Ÿå™¨ã€æ‹¨å·ã€GPSã€è¯­éŸ³ã€çŸ­ä¿¡ã€è“ç‰™ç­‰ï¼› </li>
<li>åœ¨ç•Œé¢è®¾è®¡ã€åŠŸèƒ½è®¾è®¡ã€æ“ä½œé€»è¾‘ç­‰æ–¹é¢ï¼Œæ›´å®¹æ˜“åšåˆ°æµç•…æ€§ã€ç”¨æˆ·ä½“éªŒå¥½ã€‚ä¸”ç•™å­˜ç‡é«˜ï¼Œç”¨æˆ·ä¸€æ—¦ä¸‹è½½ï¼Œç›¸è¾ƒäºå…¶ä»–ä¸¤ç«¯ï¼Œç•™å­˜çš„å¯èƒ½æ€§å¤§ã€‚</li>
<li>ç²¾å‡†ï¼Œè¶…å¼ºç”¨æˆ·é»æ€§ã€‚ä¸€æ—¦ä¸»åŠ¨ä¸‹è½½äº†APPï¼Œä¾¿æ˜¯åŸºäºæœ¬èº«APPçš„å†…å®¹æœ‰å…´è¶£ï¼ŒåŒæ—¶APPä¼šä¸€ç›´å¾…åœ¨ç”¨æˆ·æ‰‹æœºé‡Œï¼ŒAPPç«¯ä¾¿æœ‰äº†ä¸æ–­å‘ç”¨æˆ·ä¼ æ’­ä¿¡æ¯ï¼Œè¾¾åˆ°å”¤é†’æ²‰ç¡ç”¨æˆ·çš„æœºä¼šã€‚ </li>
</ol>
</li>
<li>ã€å°ç¨‹åºã€‘ <ol>
<li>èƒŒé å¾®åšçš„æµé‡ï¼›ä½¿å¾—å°ç¨‹åºæ›´æ˜“è·å®¢ï¼Œé™ä½è·å®¢æˆæœ¬ï¼ˆé™„è¿‘å°ç¨‹åºåŠŸèƒ½ï¼‰ï¼ŒåŒæ—¶å¯å€ŸåŠ©å¾®åšçš„ç¤¾äº¤ç½‘ç»œå¼•å‘çˆ†å‘æ€§ä¼ æ’­ï¼Œâ€œåœ¨å·¨äººè‚©è†€æ­ç§¯æœ¨â€ã€‚ </li>
<li>è¿æ¥çº¿ä¸Šä¸çº¿ä¸‹ï¼›æ¨åŠ¨çº¿ä¸‹ç”¨æˆ·ä¹ æƒ¯çš„å…»æˆï¼Œå°ç¨‹åºç›¸æ¯”APPæ›´å®¹æ˜“è¾¾æˆçº¿ä¸Šçº¿ä¸‹åœºæ™¯çš„è¿æ¥ä¸äº’åŠ¨ã€‚ </li>
<li>æ— éœ€ä¸‹è½½ï¼Œå³ç”¨å³èµ°ï¼Œä½“éªŒåº¦æ¥è¿‘åŸç”Ÿï¼Œç”¨æˆ·ä½“éªŒå¥½ã€‚è¯¥æ¦‚å¿µæ˜¯å°ç¨‹åºä¸€ä¸Šçº¿å°±å¼€å§‹æ‰“çš„æˆ˜ç•¥ï¼Œå¯åšAPPçš„æ•´ä½“å«æ¥ï¼Œä¹Ÿå¯åšç®€æ´ç‰ˆåŠŸèƒ½çš„æ‰¿è½½ä½“ï¼Œè¿™ä¸€ç‰¹ç‚¹ä½¿å¾—èƒ½ä»£æ›¿è®¸å¤šAPPã€‚ </li>
<li>ç›¸å¯¹äºå¼€å‘appå¼€å‘æˆæœ¬ä½ã€ä½“éªŒæ¥è¿‘åŸç”Ÿã€‚ </li>
</ol>
</li>
<li>ã€H5ã€‘ <ol>
<li>è·¨å¹³å°æ€§ï¼ˆåŒæ—¶å…¼å®¹PCç«¯ã€ç§»åŠ¨ç«¯ã€Windowsã€Linuxã€Androidä¸iosï¼‰ </li>
<li>å¼€å‘å‘¨æœŸçŸ­ï¼Œç»´æŠ¤æˆæœ¬è¾ƒä½ï¼Œå¯å¿«é€Ÿè¿­ä»£ã€‚ </li>
<li>å¼€å‘ç›¸å¯¹è¾ƒå®¹æ˜“ï¼Œå¯¹æµè§ˆå™¨é€‚é…ç®€å•ï¼Œç®€å•æ˜“å‘å¸ƒï¼Œç›´æ¥ä¸Šä¼ å³å¯ï¼Œæ— éœ€å®¡æ ¸ã€‚</li>
</ol>
</li>
</ul>
<h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul>
<li>ã€APPã€‘ <ol>
<li>å¼€å‘å‘¨æœŸé•¿ï¼Œè´¹ç”¨å¤šï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿï¼ˆAndroidä¸iosï¼‰éœ€è¦ç‹¬ç«‹å¼€å‘ï¼Œä¸”ç»´æŠ¤èµ·æ¥ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚</li>
<li>è·å®¢æˆæœ¬é«˜ï¼Œç”¨æˆ·ä½¿ç”¨éœ€è¦ä¸‹è½½ã€‚ </li>
<li>æ›´æ–°éœ€è¦ä¸Šæ¶å®¡æ ¸ï¼ŒAndroidéœ€åœ¨å„å¤§åº”ç”¨å¸‚åœºï¼Œioséœ€åœ¨App storeä¸Šè¿›è¡Œä¸Šæ¶å®¡æ ¸ï¼Œå—åˆ¶äºå„å¤§åº”ç”¨å•†åº—çš„è§„èŒƒä¸­ï¼Œä¸Šæ¶åç”¨æˆ·éœ€é‡æ–°æ›´æ–°å®‰è£…ã€‚ </li>
</ol>
</li>
<li>ã€å°ç¨‹åºã€‘ <ol>
<li>ç”¨æˆ·ç•™å­˜å›°éš¾ï¼Œåœ¨å°ç¨‹åºä¸­ç•™å­˜çš„æ¦‚å¿µå¼±ã€‚è¯¥ç¼ºç‚¹ä¹Ÿæ­£æ˜¯ç”±äºâ€œå³ç”¨å³èµ°â€çš„ç‰¹ç‚¹ï¼Œå¯¼è‡´ç•™å­˜å›°éš¾ã€‚ </li>
<li>å—åˆ¶äºå¾®åšç®¡æ§ï¼ŒåŠŸèƒ½çš„å¼€å‘å–å†³äºå¾®åšçš„èµ‹èƒ½</li>
</ol>
</li>
<li>ã€H5ã€‘<ol>
<li>ç”¨æˆ·ä½“éªŒå·®ï¼Œæ¯æ¬¡æ‰“å¼€é¡µé¢ï¼Œéœ€è¦é‡æ–°åŠ è½½ï¼› </li>
<li>åŠ è½½é€Ÿåº¦æ…¢ï¼Œè‹¥æ˜¯åœ¨ç½‘ç»œæƒ…å†µå·®çš„æƒ…å†µä¸‹ï¼Œç½‘é¡µå¯èƒ½åŠ è½½éœ€è¦é•¿ä¹…çš„æ—¶é—´ï¼› </li>
<li>ä»…èƒ½ä½¿ç”¨éƒ¨åˆ†è®¾å¤‡åº•å±‚çš„åŠŸèƒ½ï¼Œè“ç‰™ã€çŸ­ä¿¡ã€æ‘„åƒå¤´ã€éº¦å…‹é£ç­‰åŠŸèƒ½æ— æ³•ä½¿ç”¨ï¼Œé€ æˆå¼€å‘åŠŸèƒ½å±€é™ã€‚</li>
</ol>
</li>
</ul>
<h2 id="3-å°ç¨‹åºåŸç†"><a href="#3-å°ç¨‹åºåŸç†" class="headerlink" title="3. å°ç¨‹åºåŸç†"></a>3. å°ç¨‹åºåŸç†</h2><p>å¾®ä¿¡å°ç¨‹åºçš„æ¡†æ¶åŒ…å«ä¸¤éƒ¨åˆ†<strong>Viewè§†å›¾å±‚</strong>ã€<strong>App Serviceé€»è¾‘å±‚</strong>ã€‚</p>
<p><strong>Viewå±‚</strong>ç”¨æ¥æ¸²æŸ“é¡µé¢ç»“æ„ï¼›<strong>AppServiceå±‚</strong>ç”¨æ¥é€»è¾‘å¤„ç†ã€æ•°æ®è¯·æ±‚ã€æ¥å£è°ƒç”¨ã€‚</p>
<p>å®ƒä»¬åœ¨ä¸¤ä¸ªè¿›ç¨‹é‡Œè¿è¡Œã€‚ è§†å›¾å±‚å’Œé€»è¾‘å±‚é€šè¿‡ç³»ç»Ÿå±‚çš„JSBridageè¿›è¡Œé€šä¿¡ï¼Œé€»è¾‘å±‚æŠŠæ•°æ®å˜åŒ–é€šçŸ¥åˆ°è§†å›¾å±‚ï¼Œè§¦å‘è§†å›¾å±‚é¡µé¢æ›´æ–°ï¼Œè§†å›¾å±‚æŠŠè§¦å‘çš„äº‹ä»¶é€šçŸ¥åˆ°é€»è¾‘å±‚è¿›è¡Œä¸šåŠ¡å¤„ç†ã€‚</p>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-1148531/6faxo6p80s.jpeg?imageView2/2/w/1620" alt="å°ç¨‹åºæ¶æ„å›¾"></p>
<h2 id="4-æ‹“å±•â€”å¿«åº”ç”¨"><a href="#4-æ‹“å±•â€”å¿«åº”ç”¨" class="headerlink" title="4. æ‹“å±•â€”å¿«åº”ç”¨"></a>4. æ‹“å±•â€”å¿«åº”ç”¨</h2><p>å¿«åº”ç”¨æ˜¯å„å¤§æ‰‹æœºå‚å•†åŸºäºç¡¬ä»¶å¹³å°å…±åŒæ¨å‡ºçš„æ–°å‹åº”ç”¨ç”Ÿæ€ã€‚ç”¨æˆ·æ— éœ€ä¸‹è½½å®‰è£…ï¼Œå³ç‚¹å³ç”¨ï¼Œäº«å—åŸç”Ÿåº”ç”¨çš„æ€§èƒ½ä½“éªŒã€‚</p>
<p>åŠ å…¥å‚å•†ï¼šåä¸ºã€å°ç±³ã€OPPOã€vivoã€ä¸­å…´ã€é‡‘ç«‹ã€è”æƒ³ã€é­…æ—ã€åŠªæ¯”äºšâ€¦</p>
<p><img src="https://pic3.zhimg.com/80/v2-d968f43c32c65555c5e1ba355395f606_720w.webp" alt="å¿«åº”ç”¨å¯¹æ¯”"></p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">å·¥ä½œ</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-20230221-axios"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/02/21/20230221-axios/"
    >è½®è¯¢é—®é¢˜</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2023/02/21/20230221-axios/" class="article-date">
  <time datetime="2023-02-20T16:00:00.000Z" itemprop="datePublished">2023-02-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E4%BD%9C/">å·¥ä½œ</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>ä»Šå¤©é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼š</p>
<p>ä¸€ä¸ªé¡µé¢è½®è¯¢è¯·æ±‚æ¥å£ï¼Œæ ¹æ®è¿”å›å±•ç¤ºæ•°æ®ï¼Œè½®è¯¢çš„æ—¶é—´æ¯”è¾ƒçŸ­ï¼Œä¸€èˆ¬åœ¨5så·¦å³ï¼Œæˆ‘ä½¿ç”¨äº†setintervalå°±å‡ºç°äº†ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>ç¬¬ä¸€ä¸ªè¯·æ±‚çš„ç»“æœ5ç§’è¿˜æ²¡è¿”å›ï¼Œå‘é€äº†ç¬¬äºŒæ¬¡è¯·æ±‚ã€‚</li>
<li>ç¬¬ä¸€ä¸ªè¯·æ±‚å‘å‡ºä¹‹åï¼Œåˆ‡æ¢äº†tabï¼ˆæ›´æ”¹äº†è¯·æ±‚çš„å‚æ•°ï¼‰ï¼Œå‘å‡ºäº†ç¬¬äºŒæ¬¡è¯·æ±‚ï¼Œç„¶åç¬¬ä¸€æ¬¡è¿”å›çš„æ•°æ®è¦†ç›–äº†ç¬¬äºŒæ¬¡çš„æ•°æ®ï¼Œå¯¼è‡´å±•ç¤ºä¸æ­£å¸¸ã€‚</li>
</ol>
<p>æ€è€ƒäº†ä¸€ä¸‹ï¼Œè§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<ol>
<li>è½®è¯¢çš„æ–¹æ³•ç”¨setTimeoutä»£æ›¿setintervalï¼Œåœ¨æ¥å£è¿”å›æ•°æ®ä¹‹åå†è°ƒç”¨ç¬¬äºŒæ¬¡ã€‚</li>
<li>æ›´æ”¹è¯·æ±‚å‚æ•°å‘å‡ºæ–°è¯·æ±‚ä¹‹åï¼Œå–æ¶ˆä¸Šä¸€æ¬¡çš„è¯·æ±‚ï¼Œä»¥æœ€åä¸€æ¬¡çš„ç»“æœä¸ºå‡†</li>
</ol> 
      <a class="article-more-link" href="/2023/02/21/20230221-axios/"
        >é˜…è¯»æ›´å¤š...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">å·¥ä½œ</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-20221121-interview-other"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/21/20221121-interview-other/"
    >é¢è¯•å‡†å¤‡-webpack/xss/å…¶ä»–</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2022/11/21/20221121-interview-other/" class="article-date">
  <time datetime="2022-11-20T16:00:00.000Z" itemprop="datePublished">2022-11-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E4%BD%9C/">å·¥ä½œ</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>è®°å½•å·¥ä½œä¸­æƒ³åˆ°çš„é¢è¯•åº”è¯¥ä¼šçš„é—®é¢˜ã€‚</p> 
      <a class="article-more-link" href="/2022/11/21/20221121-interview-other/"
        >é˜…è¯»æ›´å¤š...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">å·¥ä½œ</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-20221121-interview-html"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/21/20221121-interview-html/"
    >é¢è¯•å‡†å¤‡-html</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2022/11/21/20221121-interview-html/" class="article-date">
  <time datetime="2022-11-20T16:00:00.000Z" itemprop="datePublished">2022-11-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E4%BD%9C/">å·¥ä½œ</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>è®°å½•å·¥ä½œä¸­æƒ³åˆ°çš„é¢è¯•åº”è¯¥ä¼šçš„é—®é¢˜ã€‚</p> 
      <a class="article-more-link" href="/2022/11/21/20221121-interview-html/"
        >é˜…è¯»æ›´å¤š...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">å·¥ä½œ</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-20221121-interview-vue"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/21/20221121-interview-vue/"
    >é¢è¯•å‡†å¤‡-vue</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2022/11/21/20221121-interview-vue/" class="article-date">
  <time datetime="2022-11-20T16:00:00.000Z" itemprop="datePublished">2022-11-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E4%BD%9C/">å·¥ä½œ</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>è®°å½•å·¥ä½œä¸­æƒ³åˆ°çš„é¢è¯•åº”è¯¥ä¼šçš„é—®é¢˜ã€‚</p> 
      <a class="article-more-link" href="/2022/11/21/20221121-interview-vue/"
        >é˜…è¯»æ›´å¤š...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">å·¥ä½œ</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-20221121-interview-js"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/21/20221121-interview-js/"
    >é¢è¯•å‡†å¤‡-js</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2022/11/21/20221121-interview-js/" class="article-date">
  <time datetime="2022-11-20T16:00:00.000Z" itemprop="datePublished">2022-11-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E4%BD%9C/">å·¥ä½œ</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>è®°å½•å·¥ä½œä¸­æƒ³åˆ°çš„é¢è¯•åº”è¯¥ä¼šçš„é—®é¢˜ã€‚</p> 
      <a class="article-more-link" href="/2022/11/21/20221121-interview-js/"
        >é˜…è¯»æ›´å¤š...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">å·¥ä½œ</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-20221021-webpack"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/10/21/20221021-webpack/"
    >wabpack</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2022/10/21/20221021-webpack/" class="article-date">
  <time datetime="2022-10-20T16:00:00.000Z" itemprop="datePublished">2022-10-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">ç®—æ³•</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
 
      <script src="//cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
      <!-- <script src="//dqtwdd.top/cdn/article-insert/article-insert.js?v_0.2"></script> -->
      <!-- <script>
        if (location.pathname.length > 1) {
          let title = $('[itemprop="name"]')[0].innerHTML.replace(
            /^\s*|\s*$/g,
            ''
          );
          console.log('pathname', title, location.pathname.length);
        }
      </script> -->
      <span id="more"></span>

<p>è¿™é‡Œæˆ‘æ‰¾äº†ä¸€äº›ä»£è¡¨æ€§çš„é—®é¢˜ï¼Œè¯•è¯•çœ‹ä½ èƒ½å›ç­”å¤šå°‘ ğŸ˜‰</p>
<blockquote>
<p>é—®ï¼šWebpack é…ç½®ä¸­ç”¨è¿‡å“ªäº› Loader ï¼Ÿéƒ½æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šWebpack é…ç½®ä¸­ç”¨è¿‡å“ªäº› Plugin ï¼Ÿéƒ½æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šLoader å’Œ Plugin æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šå¦‚ä½•ç¼–å†™ Loader ? ä»‹ç»ä¸€ä¸‹æ€è·¯ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šå¦‚ä½•ç¼–å†™ Plugin ? ä»‹ç»ä¸€ä¸‹æ€è·¯ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šWebpack optimize æœ‰é…ç½®è¿‡å—ï¼Ÿå¯ä»¥ç®€å•è¯´è¯´å—ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šWebpack å±‚é¢å¦‚ä½•æ€§èƒ½ä¼˜åŒ–ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šWebpack æ‰“åŒ…æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼štree-shaking å®ç°åŸç†æ˜¯æ€æ ·çš„ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šWebpack çƒ­æ›´æ–°ï¼ˆHMRï¼‰æ˜¯å¦‚ä½•å®ç°ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šWebpack æ‰“åŒ…ä¸­ Babel æ’ä»¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šWebpack å’Œ Rollup æœ‰ä»€ä¹ˆç›¸åŒç‚¹ä¸ä¸åŒç‚¹ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>é—®ï¼šWebpack5 æ›´æ–°äº†å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</p>
</blockquote>
<p>æ€ä¹ˆæ ·ï¼Ÿè¿™äº›é—®é¢˜éƒ½ OK å—ï¼Ÿ</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ‹†è§£å½’çº³ä¸€ä¸‹è¿™äº›é¢è¯•é¢˜ï¼Œç»˜åˆ¶ä¸€ä¸ªå¤§æ¦‚çš„çŸ¥è¯†ä½“ç³»</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4588ccf24c024448847ecfe6eb8722b0~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="webpack.jpg"></p>
<p>å»ºç«‹å¥½çŸ¥è¯†ä½“ç³»ä¹‹åï¼Œæˆ‘ä»¬ä¼šå›´ç»•çŸ¥è¯†ä½“ç³»ï¼Œç®€å•åˆ†ä¸ºä¸‰ä¸ªå±‚çº§ï¼š</p>
<ol>
<li><strong>åŸºç¡€</strong> â€“ ä¼šé…ç½®</li>
<li><strong>è¿›é˜¶</strong> â€“ èƒ½ä¼˜åŒ–</li>
<li><strong>æ·±å…¥</strong> â€“ æ‡‚åŸç†</li>
</ol>
<p>ä¸€å±‚å±‚æ™‹çº§æ‰“æ€ª ğŸ¦– ï¼Œè§£ç­”ä¸åŒæ·±åº¦çš„ Webpack é¢è¯•é¢˜é—®é¢˜ ğŸ¤“</p>
<p>æ¥ï¼Œæˆ‘ä»¬ç°åœ¨å¼€å§‹å§ ğŸ¤œ</p>
<h2 id="ä¸€ã€Webpack-åŸºç¡€"><a href="#ä¸€ã€Webpack-åŸºç¡€" class="headerlink" title="ä¸€ã€Webpack åŸºç¡€"></a>ä¸€ã€Webpack åŸºç¡€</h2><p>ç¬¬ä¸€éƒ¨åˆ†ï¼Œå…ˆä»ç®€å•çš„â€œä¼šé…ç½®â€çš„è¦æ±‚å‡ºå‘ï¼Œå…ˆäº†è§£ Webpack ç®€å•é…ç½®ä»¥åŠç®€å•é…ç½®ä¼šæ¶‰åŠåˆ°çš„é¢è¯•é¢˜ã€‚</p>
<h3 id="1-ç®€å•é…ç½®"><a href="#1-ç®€å•é…ç½®" class="headerlink" title="1. ç®€å•é…ç½®"></a>1. ç®€å•é…ç½®</h3><blockquote>
<p>è¯¥éƒ¨åˆ†éœ€è¦æŒæ¡ï¼š</p>
<ol>
<li>Webpack å¸¸è§„é…ç½®é¡¹æœ‰å“ªäº›ï¼Ÿ</li>
<li>å¸¸ç”¨ Loader æœ‰å“ªäº›ï¼Ÿå¦‚ä½•é…ç½®ï¼Ÿ</li>
<li>å¸¸ç”¨æ’ä»¶ï¼ˆPluginï¼‰æœ‰å“ªäº›ï¼Ÿå¦‚ä½•çš„é…ç½®ï¼Ÿ</li>
<li>Babel çš„å¦‚ä½•é…ç½®ï¼ŸBabel æ’ä»¶å¦‚ä½•ä½¿ç”¨ï¼Ÿ</li>
</ol>
</blockquote>
<h4 id="1-1-å®‰è£…ä¾èµ–"><a href="#1-1-å®‰è£…ä¾èµ–" class="headerlink" title="1.1 å®‰è£…ä¾èµ–"></a>1.1 å®‰è£…ä¾èµ–</h4><p>æ¯«æ— ç–‘é—®ï¼Œå…ˆæœ¬åœ°å®‰è£…ä¸€ä¸‹ <code>webpack</code> ä»¥åŠ <code>webpack-cli</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install webpack webpack-cli -D <span class="comment"># å®‰è£…åˆ°æœ¬åœ°ä¾èµ–</span></span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆ âœ…</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">+ webpack-cli@<span class="number">4.7</span><span class="number">.2</span></span><br><span class="line">+ webpack@<span class="number">5.44</span><span class="number">.0</span></span><br></pre></td></tr></table></figure>

<h4 id="1-2-å·¥ä½œæ¨¡å¼"><a href="#1-2-å·¥ä½œæ¨¡å¼" class="headerlink" title="1.2 å·¥ä½œæ¨¡å¼"></a>1.2 å·¥ä½œæ¨¡å¼</h4><p>webpack åœ¨ 4 ä»¥åå°±æ”¯æŒ 0 é…ç½®æ‰“åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹</p>
<ol>
<li>æ–°å»º <code>./src/index.js</code> æ–‡ä»¶ï¼Œå†™ä¸€æ®µç®€å•çš„ä»£ç </li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = a;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ç›®å½•ç»“æ„</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">webpack_work                  </span><br><span class="line">â”œâ”€ src                </span><br><span class="line">â”‚  â””â”€ index.js         </span><br><span class="line">â””â”€ package.json       </span><br></pre></td></tr></table></figure>

<ol>
<li>ç›´æ¥è¿è¡Œ <code>npx webpack</code>ï¼Œå¯åŠ¨æ‰“åŒ…</li>
</ol>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64c6c6a172d549959c57a936dded4c43~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æ‰“åŒ…å®Œæˆï¼Œæˆ‘ä»¬çœ‹åˆ°æ—¥å¿—ä¸Šé¢æœ‰ä¸€æ®µæç¤ºï¼š<code>The &#39;mode&#39; option has not been set,...</code></p>
<p>æ„æ€å°±æ˜¯ï¼Œæˆ‘ä»¬æ²¡æœ‰é…ç½® modeï¼ˆæ¨¡å¼ï¼‰ï¼Œè¿™é‡Œæé†’æˆ‘ä»¬é…ç½®ä¸€ä¸‹</p>
<blockquote>
<p><strong>æ¨¡å¼ï¼š</strong> ä¾› mode é…ç½®é€‰é¡¹ï¼Œå‘ŠçŸ¥ webpack ä½¿ç”¨ç›¸åº”æ¨¡å¼çš„å†…ç½®ä¼˜åŒ–ï¼Œé»˜è®¤å€¼ä¸º <code>production</code>ï¼Œå¦å¤–è¿˜æœ‰ <code>development</code>ã€<code>none</code>ï¼Œä»–ä»¬çš„åŒºåˆ«å¦‚ä¸‹</p>
</blockquote>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>development</td>
<td>å¼€å‘æ¨¡å¼ï¼Œæ‰“åŒ…æ›´åŠ å¿«é€Ÿï¼Œçœäº†ä»£ç ä¼˜åŒ–æ­¥éª¤</td>
</tr>
<tr>
<td>production</td>
<td>ç”Ÿäº§æ¨¡å¼ï¼Œæ‰“åŒ…æ¯”è¾ƒæ…¢ï¼Œä¼šå¼€å¯ tree-shaking å’Œ å‹ç¼©ä»£ç </td>
</tr>
<tr>
<td>none</td>
<td>ä¸ä½¿ç”¨ä»»ä½•é»˜è®¤ä¼˜åŒ–é€‰é¡¹</td>
</tr>
</tbody></table>
<p>æ€ä¹ˆé…ç½®å‘¢ï¼Ÿå¾ˆç®€å•</p>
<ol>
<li>åªéœ€åœ¨é…ç½®å¯¹è±¡ä¸­æä¾› mode é€‰é¡¹ï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol>
<li>ä» CLI å‚æ•°ä¸­ä¼ é€’ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack --mode=development</span><br></pre></td></tr></table></figure>

<h4 id="1-3-é…ç½®æ–‡ä»¶"><a href="#1-3-é…ç½®æ–‡ä»¶" class="headerlink" title="1.3 é…ç½®æ–‡ä»¶"></a>1.3 é…ç½®æ–‡ä»¶</h4><p>è™½ç„¶æœ‰ 0 é…ç½®æ‰“åŒ…ï¼Œä½†æ˜¯å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦ä½¿ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œæ¥æ»¡è¶³ä¸åŒé¡¹ç›®çš„éœ€æ±‚</p>
<ol>
<li>æ ¹è·¯å¾„ä¸‹æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ <code>webpack.config.js</code></li>
<li>æ–°å¢åŸºæœ¬é…ç½®ä¿¡æ¯</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå°±ä¸è¿‡å¤šè¯´äº†ï¼Œæœ€åŸºæœ¬çš„é…ç½®</p>
<h4 id="1-4-Loader"><a href="#1-4-Loader" class="headerlink" title="1.4 Loader"></a>1.4 Loader</h4><p>è¿™é‡Œæˆ‘ä»¬æŠŠå…¥å£æ”¹æˆ CSS æ–‡ä»¶ï¼Œå¯èƒ½æ‰“åŒ…ç»“æœä¼šå¦‚ä½•</p>
<p>1.æ–°å¢ <code>./src/main.css</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">800px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f4f8fb</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>ä¿®æ”¹ entry é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/main.css&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.css&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.è¿è¡Œæ‰“åŒ…å‘½ä»¤ï¼š<code>npx webpack</code></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/db44786adb79445bb26bb86d37dff920~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>è¿™é‡Œå°±æŠ¥é”™äº†ï¼</p>
<p>è¿™æ˜¯å› ä¸ºï¼š<strong>webpack é»˜è®¤æ”¯æŒå¤„ç† JS ä¸ JSON æ–‡ä»¶ï¼Œå…¶ä»–ç±»å‹éƒ½å¤„ç†ä¸äº†ï¼Œè¿™é‡Œå¿…é¡»å€ŸåŠ© Loader æ¥å¯¹ä¸åŒç±»å‹çš„æ–‡ä»¶çš„è¿›è¡Œå¤„ç†ã€‚</strong></p>
<ol>
<li>å®‰è£… <code>css-loader</code> æ¥å¤„ç† CSS</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npn install css-loader -D</span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½®èµ„æºåŠ è½½æ¨¡å—</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/main.css&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.css&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [ <span class="comment">// è½¬æ¢è§„åˆ™</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: <span class="string">&#x27;css-loader&#x27;</span> <span class="comment">// use: å¯¹åº”çš„ Loader åç§°</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>é‡æ–°è¿è¡Œæ‰“åŒ…å‘½ä»¤ <code>npx webpack</code></li>
</ol>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/182ddecce9fa4dc08b7d55ab48dfd760~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>å“å˜¿ï¼Œå¯ä»¥æ‰“åŒ…äº† ğŸ˜</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dist           </span><br><span class="line">â””â”€ bundle.css  <span class="comment"># æ‰“åŒ…å¾—åˆ°çš„ç»“æœ</span></span><br></pre></td></tr></table></figure>

<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/026b10e416d84d1e87e2dab32e52e862~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>è¿™é‡Œè¿™æ˜¯å°è¯•ï¼Œå…¥å£æ–‡ä»¶è¿˜æ˜¯éœ€è¦æ”¹å› <code>./src/index.js</code></p>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªç»“è®ºï¼š<strong>Loader å°±æ˜¯å°† Webpack ä¸è®¤è¯†çš„å†…å®¹è½¬åŒ–ä¸ºè®¤è¯†çš„å†…å®¹</strong></p>
<h4 id="1-5-æ’ä»¶ï¼ˆpluginï¼‰"><a href="#1-5-æ’ä»¶ï¼ˆpluginï¼‰" class="headerlink" title="1.5 æ’ä»¶ï¼ˆpluginï¼‰"></a>1.5 æ’ä»¶ï¼ˆpluginï¼‰</h4><p>ä¸ Loader ç”¨äºè½¬æ¢ç‰¹å®šç±»å‹çš„æ–‡ä»¶ä¸åŒï¼Œ<strong>æ’ä»¶ï¼ˆPluginï¼‰å¯ä»¥è´¯ç©¿ Webpack æ‰“åŒ…çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡</strong></p>
<p>ä¸‹é¢æ¥çœ‹ä¸€ä¸ªä½¿ç”¨çš„åˆ—å­ï¼š</p>
<p>1.æ–°å»º <code>./src/index.html</code> æ–‡ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>ITEM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘æƒ³æ‰“åŒ…åçš„èµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šjs æˆ–è€… css æ–‡ä»¶å¯ä»¥è‡ªåŠ¨å¼•å…¥åˆ° Html ä¸­ï¼Œå°±éœ€è¦ä½¿ç”¨æ’ä»¶ <a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/html-webpack-plugin">html-webpack-plugin</a>æ¥å¸®åŠ©ä½ å®Œæˆè¿™ä¸ªæ“ä½œ</p>
<p>2.æœ¬åœ°å®‰è£… <code>html-webpack-plugin</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin -D</span><br></pre></td></tr></table></figure>

<p>3.é…ç½®æ’ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: <span class="string">&#x27;css-loader&#x27;</span> <span class="comment">// use: å¯¹åº”çš„ Loader åç§°</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä¸€ä¸‹æ‰“åŒ…ï¼Œæ‰“å¼€ dist ç›®å½•ä¸‹ç”Ÿæˆçš„ index.html æ–‡ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>ITEM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å®ƒè‡ªåŠ¨çš„å¼•å…¥äº†æ‰“åŒ…å¥½çš„ bundle.js ï¼Œéå¸¸æ–¹ä¾¿å®ç”¨</p>
<h4 id="1-6-è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•"><a href="#1-6-è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•" class="headerlink" title="1.6 è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•"></a>1.6 è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•</h4><p>æ¯æ¬¡æ‰“åŒ…çš„æ—¶å€™ï¼Œæ‰“åŒ…ç›®å½•éƒ½ä¼šé—ç•™ä¸Šæ¬¡æ‰“åŒ…çš„æ–‡ä»¶ï¼Œä¸ºäº†ä¿æŒæ‰“åŒ…ç›®å½•çš„çº¯å‡€ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ‰“åŒ…å‰å°†æ‰“åŒ…ç›®å½•æ¸…ç©º</p>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ’ä»¶ <a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/clean-webpack-plugin">clean-webpack-plugin</a> æ¥å®ç°</p>
<ol>
<li>å®‰è£…</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install clean-webpack-plugin -D</span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="comment">// å¼•å…¥æ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">CleanWebpackPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>() <span class="comment">// å¼•å…¥æ’ä»¶</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-7-åŒºåˆ†ç¯å¢ƒ"><a href="#1-7-åŒºåˆ†ç¯å¢ƒ" class="headerlink" title="1.7 åŒºåˆ†ç¯å¢ƒ"></a>1.7 åŒºåˆ†ç¯å¢ƒ</h4><p>æœ¬åœ°å¼€å‘å’Œéƒ¨ç½²çº¿ä¸Šï¼Œè‚¯å®šæ˜¯æœ‰ä¸åŒçš„éœ€æ±‚</p>
<p><strong>æœ¬åœ°ç¯å¢ƒï¼š</strong></p>
<ul>
<li>éœ€è¦æ›´å¿«çš„æ„å»ºé€Ÿåº¦</li>
<li>éœ€è¦æ‰“å° debug ä¿¡æ¯</li>
<li>éœ€è¦ live reload æˆ– hot reload åŠŸèƒ½</li>
<li>éœ€è¦ sourcemap æ–¹ä¾¿å®šä½é—®é¢˜</li>
<li>â€¦</li>
</ul>
<p><strong>ç”Ÿäº§ç¯å¢ƒï¼š</strong></p>
<ul>
<li>éœ€è¦æ›´å°çš„åŒ…ä½“ç§¯ï¼Œä»£ç å‹ç¼©+tree-shaking</li>
<li>éœ€è¦è¿›è¡Œä»£ç åˆ†å‰²</li>
<li>éœ€è¦å‹ç¼©å›¾ç‰‡ä½“ç§¯</li>
<li>â€¦</li>
</ul>
<p>é’ˆå¯¹ä¸åŒçš„éœ€æ±‚ï¼Œé¦–å…ˆè¦åšçš„å°±æ˜¯åšå¥½ç¯å¢ƒçš„åŒºåˆ†</p>
<ol>
<li>æœ¬åœ°å®‰è£… cross-env [<a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/cross-env">æ–‡æ¡£åœ°å€</a>]</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install cross-env -D</span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½®å¯åŠ¨å‘½ä»¤</li>
</ol>
<p>æ‰“å¼€ <code>./package.json</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=dev webpack serve --mode development&quot;</span><span class="punctuation">,</span> </span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=test webpack --mode production&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=prod webpack --mode production&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<ol>
<li>åœ¨ Webpack é…ç½®æ–‡ä»¶ä¸­è·å–ç¯å¢ƒå˜é‡</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;process.env.NODE_ENV=&#x27;</span>, process.<span class="property">env</span>.<span class="property">NODE_ENV</span>) <span class="comment">// æ‰“å°ç¯å¢ƒå˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: <span class="string">&#x27;css-loader&#x27;</span> <span class="comment">// use: å¯¹åº”çš„ Loader åç§°</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function">(<span class="params">env, argv</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;argv.mode=&#x27;</span>,argv.<span class="property">mode</span>) <span class="comment">// æ‰“å° mode(æ¨¡å¼) å€¼</span></span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ¨¡å¼ä¿®æ”¹ config é…ç½®</span></span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.æµ‹è¯•ä¸€ä¸‹çœ‹çœ‹</p>
<ul>
<li>æ‰§è¡Œ <code>npm run build</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">process.env.NODE_ENV= prod</span><br><span class="line">argv.mode= production</span><br></pre></td></tr></table></figure>

<ul>
<li>æ‰§è¡Œ <code>npm run test</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">process.env.NODE_ENV= <span class="built_in">test</span></span><br><span class="line">argv.mode= production</span><br></pre></td></tr></table></figure>

<ul>
<li>æ‰§è¡Œ <code>npm run dev</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">process.env.NODE_ENV= dev</span><br><span class="line">argv.mode= development</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä¸åŒçš„ç¯å¢ƒæ¥åŠ¨æ€ä¿®æ”¹ Webpack çš„é…ç½®</p>
<h4 id="1-8-å¯åŠ¨-devServer"><a href="#1-8-å¯åŠ¨-devServer" class="headerlink" title="1.8 å¯åŠ¨ devServer"></a>1.8 å¯åŠ¨ devServer</h4><p>1.å®‰è£… <a href="https://link.juejin.cn/?target=https://webpack.docschina.org/configuration/dev-server/%23devserver">webpack-dev-server</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm intall webpack-dev-server@3.11.2 -D</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸æ³¨æ„ï¼šæœ¬æ–‡ä½¿ç”¨çš„ <code>webpack-dev-server</code> ç‰ˆæœ¬æ˜¯ <code>3.11.2</code>ï¼Œå½“ç‰ˆæœ¬ <code>version &gt;= 4.0.0</code> æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <a href="https://link.juejin.cn/?target=https://webpack.docschina.org/configuration/dev-server/%23devserverstatic">devServer.static</a> è¿›è¡Œé…ç½®ï¼Œä¸å†æœ‰ <code>devServer.contentBase</code> é…ç½®é¡¹ã€‚</p>
</blockquote>
<p>2.é…ç½®æœ¬åœ°æœåŠ¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">contentBase</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;public&#x27;</span>), <span class="comment">// é™æ€æ–‡ä»¶ç›®å½•</span></span><br><span class="line">    <span class="attr">compress</span>: <span class="literal">true</span>, <span class="comment">//æ˜¯å¦å¯åŠ¨å‹ç¼© gzip</span></span><br><span class="line">    <span class="attr">port</span>: <span class="number">8080</span>, <span class="comment">// ç«¯å£å·</span></span><br><span class="line">    <span class="comment">// open:true  // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">  &#125;,</span><br><span class="line"> <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function">(<span class="params">env, argv</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;argv.mode=&#x27;</span>,argv.<span class="property">mode</span>) <span class="comment">// æ‰“å° mode(æ¨¡å¼) å€¼</span></span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ¨¡å¼ä¿®æ”¹ config é…ç½®</span></span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä¸ºä»€ä¹ˆè¦é…ç½® contentBase ï¼Ÿ</strong></p>
<p>å› ä¸º webpack åœ¨è¿›è¡Œæ‰“åŒ…çš„æ—¶å€™ï¼Œå¯¹é™æ€æ–‡ä»¶çš„å¤„ç†ï¼Œä¾‹å¦‚å›¾ç‰‡ï¼Œéƒ½æ˜¯ç›´æ¥ copy åˆ° dist ç›®å½•ä¸‹é¢ã€‚ä½†æ˜¯å¯¹äºæœ¬åœ°å¼€å‘æ¥è¯´ï¼Œè¿™ä¸ªè¿‡ç¨‹å¤ªè´¹æ—¶ï¼Œä¹Ÿæ²¡æœ‰å¿…è¦ï¼Œæ‰€ä»¥åœ¨è®¾ç½® contentBase ä¹‹åï¼Œå°±ç›´æ¥åˆ°å¯¹åº”çš„é™æ€ç›®å½•ä¸‹é¢å»è¯»å–æ–‡ä»¶ï¼Œè€Œä¸éœ€å¯¹æ–‡ä»¶åšä»»ä½•ç§»åŠ¨ï¼ŒèŠ‚çœäº†æ—¶é—´å’Œæ€§èƒ½å¼€é”€ã€‚</p>
<ol>
<li>å¯åŠ¨æœ¬åœ°æœåŠ¡</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run dev</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†çœ‹åˆ°æ•ˆæœï¼Œæˆ‘åœ¨ html ä¸­æ·»åŠ äº†ä¸€æ®µæ–‡å­—ï¼Œå¹¶åœ¨ public ä¸‹é¢æ”¾å…¥äº†ä¸€å¼ å›¾ç‰‡ logo.png</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>ITEM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>ITEM<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">public       </span><br><span class="line">â””â”€ logo.png  </span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€åœ°å€ <code>http://localhost:8080/</code></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86b5b3175a2a47248c8da77cf51b752d~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æ¥ç€è®¿é—® <code>http://localhost:8080/logo.png</code></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fa86c70642db455c91a2c49129dfe9c2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>OKï¼Œæ²¡é—®é¢˜ ğŸ‘Œ</p>
<h4 id="1-9-å¼•å…¥-CSS"><a href="#1-9-å¼•å…¥-CSS" class="headerlink" title="1.9 å¼•å…¥ CSS"></a>1.9 å¼•å…¥ CSS</h4><p>ä¸Šé¢ï¼Œæˆ‘ä»¬åœ¨ Loader é‡Œé¢è®²åˆ°äº†ä½¿ç”¨ css-loader æ¥å¤„ç† cssï¼Œä½†æ˜¯å•é  css-loader æ˜¯æ²¡æœ‰åŠæ³•å°†æ ·å¼åŠ è½½åˆ°é¡µé¢ä¸Šã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å†å®‰è£…ä¸€ä¸ª style-loader æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½</p>
<p>style-loader å°±æ˜¯å°†å¤„ç†å¥½çš„ css é€šè¿‡ style æ ‡ç­¾çš„å½¢å¼æ·»åŠ åˆ°é¡µé¢ä¸Š</p>
<ol>
<li>å®‰è£… <code>style-loader</code> [<a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/style-loader">æ–‡æ¡£åœ°å€</a>]</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install style-loader -D</span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½® Loader</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&#x27;style-loader&#x27;</span>,<span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>âš ï¸æ³¨æ„ï¼š</strong> Loader çš„æ‰§è¡Œé¡ºåºæ˜¯å›ºå®šä»åå¾€å‰ï¼Œå³æŒ‰ <code>css-loader --&gt; style-loader</code> çš„é¡ºåºæ‰§è¡Œ</p>
</blockquote>
<ol>
<li>å¼•ç”¨æ ·å¼æ–‡ä»¶</li>
</ol>
<p>åœ¨å…¥å£æ–‡ä»¶ <code>./src/index.js</code> å¼•å…¥æ ·å¼æ–‡ä»¶ <code>./src/main.css</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./main.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = a;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ./src/main.css */</span> </span><br><span class="line">body &#123;</span><br><span class="line">  <span class="attr">margin</span>: 10px auto;</span><br><span class="line">  <span class="attr">background</span>: cyan;</span><br><span class="line">  max-<span class="attr">width</span>: 800px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>é‡å¯ä¸€ä¸‹æœ¬åœ°æœåŠ¡ï¼Œè®¿é—® <code>http://localhost:8080/</code></li>
</ol>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a39e673799d42338feb714bc0d5c88e~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>è¿™æ ·æ ·å¼å°±èµ·ä½œç”¨äº†ï¼Œç»§ç»­ä¿®æ”¹ä¸€ä¸‹æ ·å¼</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span> auto;</span><br><span class="line">  <span class="attribute">background</span>: cyan;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">800px</span>;</span><br><span class="line">  <span class="comment">/* æ–°å¢ */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">46px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜ä¹‹åï¼Œæ ·å¼å°±è‡ªåŠ¨ä¿®æ”¹å®Œæˆäº†</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f95106fac594e21a566ae298d0504cd~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>style-loader æ ¸å¿ƒé€»è¾‘ç›¸å½“äºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> content = <span class="string">`<span class="subst">$&#123;æ ·å¼å†…å®¹&#125;</span>`</span></span><br><span class="line"><span class="keyword">const</span> style = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;style&#x27;</span>);</span><br><span class="line">style.<span class="property">innerHTML</span> = content;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">appendChild</span>(style);</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡åŠ¨æ€æ·»åŠ  style æ ‡ç­¾çš„æ–¹å¼ï¼Œå°†æ ·å¼å¼•å…¥é¡µé¢</p>
<h4 id="1-10-CSS-å…¼å®¹æ€§"><a href="#1-10-CSS-å…¼å®¹æ€§" class="headerlink" title="1.10 CSS å…¼å®¹æ€§"></a>1.10 CSS å…¼å®¹æ€§</h4><p>ä½¿ç”¨ <a href="https://link.juejin.cn/?target=https://webpack.docschina.org/loaders/postcss-loader/">postcss-loader</a>ï¼Œè‡ªåŠ¨æ·»åŠ  CSS3 éƒ¨åˆ†å±æ€§çš„æµè§ˆå™¨å‰ç¼€</p>
<p>ä¸Šé¢æˆ‘ä»¬ç”¨åˆ°çš„ <code>transform: translateX(-50%);</code>ï¼Œéœ€è¦åŠ ä¸Šä¸åŒçš„æµè§ˆå™¨å‰ç¼€ï¼Œè¿™ä¸ªæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ postcss-loader æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">npm install postcss-loader postcss -D</span><br><span class="line"></span><br><span class="line">const config = &#123;</span><br><span class="line">  // ...</span><br><span class="line">  module: &#123; </span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">test</span>: /\.css$/, //åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span><br><span class="line">        use: [<span class="string">&#x27;style-loader&#x27;</span>,<span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;postcss-loader&#x27;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ è¿™é‡Œæœ‰ä¸ªå¾ˆå¤§çš„å‘ç‚¹ï¼š<strong>å‚è€ƒæ–‡æ¡£é…ç½®å¥½åï¼Œè¿è¡Œçš„æ—¶å€™ä¼šæŠ¥é”™</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Error</span>: <span class="title class_">Loading</span> <span class="title class_">PostCSS</span> <span class="string">&quot;postcss-import&quot;</span> plugin <span class="attr">failed</span>: </span><br><span class="line"><span class="title class_">Cannot</span> find <span class="variable language_">module</span> <span class="string">&#x27;postcss-import&#x27;</span></span><br></pre></td></tr></table></figure>

<p>åé¢å°è¯•å®‰è£…æ’ä»¶çš„é›†åˆ <code>postcss-preset-env</code> ï¼Œç„¶åä¿®æ”¹é…ç½®ä¸º</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="comment">// å¤±è´¥é…ç½®</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">loader</span>: <span class="string">&#x27;postcss-loader&#x27;</span>,</span><br><span class="line">    <span class="attr">options</span>: &#123;</span><br><span class="line">      <span class="attr">postcssOptions</span>: &#123;</span><br><span class="line">        <span class="attr">plugins</span>: [</span><br><span class="line">          [</span><br><span class="line">            <span class="string">&#x27;postcss-preset-env&#x27;</span>, </span><br><span class="line">            &#123;</span><br><span class="line">              <span class="comment">// å…¶ä»–é€‰é¡¹</span></span><br><span class="line">            &#125;,</span><br><span class="line">          ],</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä¹‹åä¾ç„¶ä¼šæŠ¥é”™ï¼Œåœ¨æŸ¥é˜…èµ„æ–™åï¼Œç»ˆäºæ‰¾åˆ°äº†æ­£ç¡®çš„æ‰“å¼€æ–¹å¼ï¼Œæˆ‘ä»¬é‡æ–°æ¥ä¸€é ğŸ˜</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install postcss postcss-loader postcss-preset-env -D</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ  postcss-loader åŠ è½½å™¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span>, </span><br><span class="line">          <span class="string">&#x27;postcss-loader&#x27;</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;, </span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»º postcss é…ç½®æ–‡ä»¶ <code>postcss.config.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// postcss.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="built_in">require</span>(<span class="string">&#x27;postcss-preset-env&#x27;</span>)]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»º postcss-preset-env é…ç½®æ–‡ä»¶ <code>.browserslistrc</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¢è¡Œç›¸å½“äº and</span></span><br><span class="line">last 2 versions <span class="comment"># å›é€€ä¸¤ä¸ªæµè§ˆå™¨ç‰ˆæœ¬</span></span><br><span class="line">&gt; 0.5% <span class="comment"># å…¨çƒè¶…è¿‡0.5%äººä½¿ç”¨çš„æµè§ˆå™¨ï¼Œå¯ä»¥é€šè¿‡ caniuse.com æŸ¥çœ‹ä¸åŒæµè§ˆå™¨ä¸åŒç‰ˆæœ¬å æœ‰ç‡</span></span><br><span class="line">IE 10 <span class="comment"># å…¼å®¹IE 10</span></span><br></pre></td></tr></table></figure>

<p>å†å°è¯•è¿è¡Œä¸€ä¸‹</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b86c4d718c2f4601b02e02c8d49bc7df~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>å‰ç¼€è‡ªåŠ¨åŠ ä¸Šäº† ğŸ‘</p>
<p>å¦‚æœä½ å¯¹ <code>.browserslistrc</code> ä¸åŒé…ç½®äº§ç”Ÿçš„æ•ˆæœæ„Ÿå…´è¶£ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://link.juejin.cn/?target=http://autoprefixer.github.io/">autoprefixer</a> è¿›è¡Œåœ¨çº¿è½¬åŒ–æŸ¥çœ‹æ•ˆæœ</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e664743f10b5470e9d7152458ba765aa~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<h4 id="1-11-å¼•å…¥-Less-æˆ–è€…-Sass"><a href="#1-11-å¼•å…¥-Less-æˆ–è€…-Sass" class="headerlink" title="1.11 å¼•å…¥ Less æˆ–è€… Sass"></a>1.11 å¼•å…¥ Less æˆ–è€… Sass</h4><p>less å’Œ sass åŒæ ·æ˜¯ Webpack æ— æ³•è¯†åˆ«çš„ï¼Œéœ€è¦ä½¿ç”¨å¯¹åº”çš„ Loader æ¥å¤„ç†ä¸€ä¸‹</p>
<table>
<thead>
<tr>
<th>æ–‡ä»¶ç±»å‹</th>
<th>loader</th>
</tr>
</thead>
<tbody><tr>
<td>Less</td>
<td>less-loader</td>
</tr>
<tr>
<td>Sass</td>
<td>sass-loader node-sass æˆ– dart-sass</td>
</tr>
</tbody></table>
<p>Less å¤„ç†ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œç›´æ¥æ·»åŠ å¯¹åº”çš„ Loader å°±å¥½äº†</p>
<p>Sass ä¸å…‰éœ€è¦å®‰è£… <code>sass-loader</code> è¿˜å¾—æ­é…ä¸€ä¸ª <code>node-sass</code>ï¼Œè¿™é‡Œ <code>node-sass</code> å»ºè®®ç”¨æ·˜å®é•œåƒæ¥å®‰è£…ï¼Œnpm å®‰è£…æˆåŠŸçš„æ¦‚ç‡å¤ªå°äº† ğŸ¤£</p>
<p>è¿™é‡Œæˆ‘ä»¬å°±ä½¿ç”¨ Sass æ¥åšæ¡ˆä¾‹</p>
<ol>
<li>å®‰è£…</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install sass-loader -D</span><br><span class="line"><span class="comment"># æ·˜å®é•œåƒ</span></span><br><span class="line">$ npm i node-sass --sass_binary_site=https://npm.taobao.org/mirrors/node-sass/</span><br></pre></td></tr></table></figure>

<ol>
<li>æ–°å»º <code>./src/sass.scss</code></li>
</ol>
<p>Sass æ–‡ä»¶çš„åç¼€å¯ä»¥æ˜¯ <code>.scss(å¸¸ç”¨)</code> æˆ–è€… <code>.sass</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$<span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">190</span>, <span class="number">23</span>, <span class="number">168</span>);</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $color;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">300px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å¼•å…¥ Sass æ–‡ä»¶</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./main.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./sass.scss&#x27;</span> <span class="comment">// å¼•å…¥ Sass æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = a;</span><br></pre></td></tr></table></figure>

<ol>
<li>ä¿®æ”¹é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">   <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(s[ac]|c)ss$/i</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ sass/scss/css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;postcss-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;sass-loader&#x27;</span>, </span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥çœ‹ä¸€ä¸‹æ‰§è¡Œç»“æœ</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a6e15eec0674eb6be0eb8b18b5f8e3f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æˆåŠŸ ğŸ‘</p>
<h4 id="1-12-åˆ†ç¦»æ ·å¼æ–‡ä»¶"><a href="#1-12-åˆ†ç¦»æ ·å¼æ–‡ä»¶" class="headerlink" title="1.12 åˆ†ç¦»æ ·å¼æ–‡ä»¶"></a>1.12 åˆ†ç¦»æ ·å¼æ–‡ä»¶</h4><p>å‰é¢ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä¾èµ– <code>style-loader</code> å°†æ ·å¼é€šè¿‡ style æ ‡ç­¾çš„å½¢å¼æ·»åŠ åˆ°é¡µé¢ä¸Š</p>
<p>ä½†æ˜¯ï¼Œæ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›å¯ä»¥é€šè¿‡ CSS æ–‡ä»¶çš„å½¢å¼å¼•å…¥åˆ°é¡µé¢ä¸Š</p>
<ol>
<li>å®‰è£… <a href="https://link.juejin.cn/?target=https://webpack.docschina.org/plugins/mini-css-extract-plugin/"><code>mini-css-extract-plugin</code></a></li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install mini-css-extract-plugin -D</span></span><br></pre></td></tr></table></figure>

<ol>
<li>ä¿®æ”¹ <code>webpack.config.js</code> é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// å¼•å…¥æ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(s[ac]|c)ss$/i</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ sass/scss/css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="comment">// &#x27;style-loader&#x27;,</span></span><br><span class="line">          <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="comment">// æ·»åŠ  loader</span></span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;postcss-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;sass-loader&#x27;</span>, </span><br><span class="line">        ] </span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123; <span class="comment">// æ·»åŠ æ’ä»¶</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;[name].[hash:8].css&#x27;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<ol>
<li>æŸ¥çœ‹æ‰“åŒ…ç»“æœ</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dist                    </span><br><span class="line">â”œâ”€ avatar.d4d42d52.png  </span><br><span class="line">â”œâ”€ bundle.js            </span><br><span class="line">â”œâ”€ index.html           </span><br><span class="line">â”œâ”€ logo.56482c77.png    </span><br><span class="line">â””â”€ main.3bcbae64.css <span class="comment"># ç”Ÿæˆçš„æ ·å¼æ–‡ä»¶  </span></span><br></pre></td></tr></table></figure>

<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eeb21ada61c14841bb340f9a8cb36aca~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<h4 id="1-13-å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶"><a href="#1-13-å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶" class="headerlink" title="1.13 å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶"></a>1.13 å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶</h4><p>è™½ç„¶ä¸Šé¢åœ¨é…ç½®å¼€å‘ç¯å¢ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½® <code>contentBase</code> å»ç›´æ¥è¯»å–å›¾ç‰‡ç±»çš„é™æ€æ–‡ä»¶ï¼Œçœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸¤ç§å›¾ç‰‡ä½¿ç”¨æƒ…å†µ</p>
<ol>
<li>é¡µé¢ç›´æ¥å¼•å…¥</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æœ¬åœ°å¯ä»¥è®¿é—®ï¼Œç”Ÿäº§ç¯å¢ƒä¼šæ‰¾ä¸åˆ°å›¾ç‰‡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/logo.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>èƒŒæ™¯å›¾å¼•å…¥</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;imgBox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">/* ./src/main.css */</span><br><span class="line">...</span><br><span class="line">#imgBox &#123;</span><br><span class="line">  height: 400px;</span><br><span class="line">  width: 400px;</span><br><span class="line">  background: url(&#x27;../public/logo.png&#x27;);</span><br><span class="line">  background-size: contain;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥ä¼šæŠ¥é”™</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed6515db830d41549c457c5e2aa4dd88~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æ‰€ä»¥å®é™…ä¸Šï¼ŒWebpack æ— æ³•è¯†åˆ«å›¾ç‰‡æ–‡ä»¶ï¼Œéœ€è¦åœ¨æ‰“åŒ…çš„æ—¶å€™å¤„ç†ä¸€ä¸‹</p>
<p>å¸¸ç”¨çš„å¤„ç†å›¾ç‰‡æ–‡ä»¶çš„ Loader åŒ…å«ï¼š</p>
<table>
<thead>
<tr>
<th>Loader</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>file-loader</td>
<td>è§£å†³å›¾ç‰‡å¼•å…¥é—®é¢˜ï¼Œå¹¶å°†å›¾ç‰‡ copy åˆ°æŒ‡å®šç›®å½•ï¼Œé»˜è®¤ä¸º dist</td>
</tr>
<tr>
<td>url-loader</td>
<td>è§£ä¾èµ– file-loaderï¼Œå½“å›¾ç‰‡å°äº limit å€¼çš„æ—¶å€™ï¼Œä¼šå°†å›¾ç‰‡è½¬ä¸º base64 ç¼–ç ï¼Œå¤§äº limit å€¼çš„æ—¶å€™ä¾ç„¶æ˜¯ä½¿ç”¨ file-loader è¿›è¡Œæ‹·è´</td>
</tr>
<tr>
<td>img-loader</td>
<td>å‹ç¼©å›¾ç‰‡</td>
</tr>
</tbody></table>
<ol>
<li>å®‰è£… <code>file-loader</code></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install file-loader -D</span><br></pre></td></tr></table></figure>

<ol>
<li>ä¿®æ”¹é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// ...</span></span><br><span class="line">      &#125;, </span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(jpe?g|png|gif)$/i</span>, <span class="comment">// åŒ¹é…å›¾ç‰‡æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>:[</span><br><span class="line">          <span class="string">&#x27;file-loader&#x27;</span> <span class="comment">// ä½¿ç”¨ file-loader</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.å¼•å…¥å›¾ç‰‡</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ./src/index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;imgBox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ ·å¼æ–‡ä»¶ä¸­å¼•å…¥</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ./src/sass.scss */</span></span><br><span class="line"></span><br><span class="line">$<span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">190</span>, <span class="number">23</span>, <span class="number">168</span>);</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;../public/logo.png&#x27;</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: contain;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>js æ–‡ä»¶ä¸­å¼•å…¥</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./main.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./sass.scss&#x27;</span></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;../public/avatar.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">img.<span class="property">src</span> = logo</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;imgBox&#x27;</span>).<span class="title function_">appendChild</span>(img)</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨æœåŠ¡ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æ•ˆæœ</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d1a5bc99ab384641912b82ce921b62c5~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æ˜¾ç¤ºæ­£å¸¸ âœŒï¸</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å›¾ç‰‡æ–‡ä»¶çš„åå­—éƒ½å·²ç»å˜äº†ï¼Œå¹¶ä¸”å¸¦ä¸Šäº† hash å€¼ï¼Œç„¶åæˆ‘çœ‹ä¸€ä¸‹æ‰“åŒ…ç›®å½•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dist                                     </span><br><span class="line">â”œâ”€ 56482c77280b3c4ad2f083b727dfcbf9.<span class="property">png</span>  </span><br><span class="line">â”œâ”€ bundle.<span class="property">js</span>                             </span><br><span class="line">â”œâ”€ d4d42d529da4b5120ac85878f6f69694.<span class="property">png</span>  </span><br><span class="line">â””â”€ index.<span class="property">html</span>                            </span><br></pre></td></tr></table></figure>

<p>dist ç›®å½•ä¸‹é¢å¤šäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™æ­£æ˜¯ file-loader æ‹·è´è¿‡æ¥çš„</p>
<p>å¦‚æœæƒ³è¦ä¿®æ”¹ä¸€ä¸‹åç§°ï¼Œå¯ä»¥åŠ ä¸ªé…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// ...</span></span><br><span class="line">      &#125;, </span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(jpe?g|png|gif)$/i</span>,</span><br><span class="line">        <span class="attr">use</span>:[</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">name</span>: <span class="string">&#x27;[name][hash:8].[ext]&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">        <span class="attr">options</span>: &#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;[name][hash:8].[ext]&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æ‰“åŒ…çœ‹ä¸€ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dist                   </span><br><span class="line">â”œâ”€ avatard4d42d52.png  </span><br><span class="line">â”œâ”€ bundle.js           </span><br><span class="line">â”œâ”€ index.html          </span><br><span class="line">â””â”€ logo56482c77.png    </span><br></pre></td></tr></table></figure>

<p>å†çœ‹ä¸€ä¸‹ url-loader</p>
<ol>
<li>å®‰è£… <code>url-loader</code></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install url-loader -D</span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½® <code>url-loader</code></li>
</ol>
<p>é…ç½®å’Œ file-loader ç±»ä¼¼ï¼Œå¤šäº†ä¸€ä¸ª limit çš„é…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// ...</span></span><br><span class="line">      &#125;, </span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(jpe?g|png|gif)$/i</span>,</span><br><span class="line">        <span class="attr">use</span>:[</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">name</span>: <span class="string">&#x27;[name][hash:8].[ext]&#x27;</span>,</span><br><span class="line">              <span class="comment">// æ–‡ä»¶å°äº 50k ä¼šè½¬æ¢ä¸º base64ï¼Œå¤§äºåˆ™æ‹·è´æ–‡ä»¶</span></span><br><span class="line">              <span class="attr">limit</span>: <span class="number">50</span> * <span class="number">1024</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªå›¾ç‰‡æ–‡ä»¶çš„ä½“ç§¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public         </span><br><span class="line">â”œâ”€ avatar.png <span class="comment"># 167kb</span></span><br><span class="line">â””â”€ logo.png   <span class="comment"># 43kb </span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ‰“åŒ…çœ‹ä¸€ä¸‹æ•ˆæœ</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/87741d3bd67a4b7fbe3a8ce626690579~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>å¾ˆæ˜æ˜¾å¯ä»¥çœ‹åˆ° logo.png æ–‡ä»¶å·²ç»è½¬ä¸º base64 äº†ğŸ‘Œ</p>
<p>å†çœ‹å­—ä½“æ–‡ä»¶çš„å¤„ç†</p>
<ol>
<li>é…ç½®å­—ä½“æ–‡ä»¶</li>
</ol>
<p>é¦–å…ˆï¼Œä» <a href="https://link.juejin.cn/?target=https://www.iconfont.cn/home/index?spm=a313x.7781069.1998910419.2">iconfont.cn</a> ä¸‹è½½å­—ä½“æ–‡ä»¶åˆ°æœ¬åœ°</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3fca370ecf0c4dfba36feb7385377b77~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>åœ¨é¡¹ç›®ä¸­ï¼Œæ–°å»º <code>./src/fonts</code> æ–‡ä»¶å¤¹æ¥å­˜æ”¾å­—ä½“æ–‡ä»¶</p>
<p>ç„¶åï¼Œå¼•å…¥åˆ°å…¥å£æ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./main.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./sass.scss&#x27;</span></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;../public/avatar.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥å­—ä½“å›¾æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./fonts/iconfont.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">img.<span class="property">src</span> = logo</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;imgBox&#x27;</span>).<span class="title function_">appendChild</span>(img)</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œåœ¨ <code>./src/index.html</code> ä¸­ä½¿ç”¨</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ä½¿ç”¨å­—ä½“å›¾æ ‡æ–‡ä»¶ --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 1ï¼‰iconfont å¯¹åº” font-family è®¾ç½®çš„å€¼--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 2ï¼‰icon-member å›¾æ ‡ class åç§°å¯ä»¥åœ¨ iconfont.cn ä¸­æŸ¥æ‰¾--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-member&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;imgBox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œå¢åŠ å­—ä½“æ–‡ä»¶çš„é…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">test</span>: <span class="regexp">/\.(woff2?|eot|ttf|otf)(\?.*)?$/i</span>,  <span class="comment">// åŒ¹é…å­—ä½“æ–‡ä»¶</span></span><br><span class="line">    <span class="attr">use</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">        <span class="attr">options</span>: &#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;fonts/[name][hash:8].[ext]&#x27;</span>, <span class="comment">// ä½“ç§¯å¤§äº 10KB æ‰“åŒ…åˆ° fonts ç›®å½•ä¸‹ </span></span><br><span class="line">          <span class="attr">limit</span>: <span class="number">10</span> * <span class="number">1024</span>,</span><br><span class="line">        &#125; </span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“åŒ…ä¸€ä¸‹ï¼Œçœ‹çœ‹æ•ˆæœ</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5a0646f552f1458fb290efb2be864360~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>ä½†æ˜¯åœ¨ webpack5ï¼Œå†…ç½®äº†èµ„æºå¤„ç†æ¨¡å—ï¼Œ<code>file-loader</code> å’Œ <code>url-loader</code> éƒ½å¯ä»¥ä¸ç”¨å®‰è£…</p>
<h4 id="1-14-èµ„æºæ¨¡å—çš„ä½¿ç”¨"><a href="#1-14-èµ„æºæ¨¡å—çš„ä½¿ç”¨" class="headerlink" title="1.14 èµ„æºæ¨¡å—çš„ä½¿ç”¨"></a>1.14 èµ„æºæ¨¡å—çš„ä½¿ç”¨</h4><blockquote>
<p>webpack5 æ–°å¢èµ„æºæ¨¡å—(asset module)ï¼Œå…è®¸ä½¿ç”¨èµ„æºæ–‡ä»¶ï¼ˆå­—ä½“ï¼Œå›¾æ ‡ç­‰ï¼‰è€Œæ— éœ€é…ç½®é¢å¤–çš„ loaderã€‚</p>
</blockquote>
<p>èµ„æºæ¨¡å—æ”¯æŒä»¥ä¸‹å››ä¸ªé…ç½®ï¼š</p>
<blockquote>
<ol>
<li><code>asset/resource</code> å°†èµ„æºåˆ†å‰²ä¸ºå•ç‹¬çš„æ–‡ä»¶ï¼Œå¹¶å¯¼å‡º urlï¼Œç±»ä¼¼ä¹‹å‰çš„ file-loader çš„åŠŸèƒ½.</li>
<li><code>asset/inline</code> å°†èµ„æºå¯¼å‡ºä¸º dataUrl çš„å½¢å¼ï¼Œç±»ä¼¼ä¹‹å‰çš„ url-loader çš„å°äº limit å‚æ•°æ—¶åŠŸèƒ½.</li>
<li><code>asset/source</code> å°†èµ„æºå¯¼å‡ºä¸ºæºç ï¼ˆsource codeï¼‰. ç±»ä¼¼çš„ raw-loader åŠŸèƒ½.</li>
<li><code>asset</code> ä¼šæ ¹æ®æ–‡ä»¶å¤§å°æ¥é€‰æ‹©ä½¿ç”¨å“ªç§ç±»å‹ï¼Œå½“æ–‡ä»¶å°äº 8 KBï¼ˆé»˜è®¤ï¼‰ çš„æ—¶å€™ä¼šä½¿ç”¨ asset/inlineï¼Œå¦åˆ™ä¼šä½¿ç”¨ asset/resource</li>
</ol>
</blockquote>
<p>è´´ä¸€ä¸‹ä¿®æ”¹åçš„å®Œæ•´ä»£ç </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// ... </span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(jpe?g|png|gif)$/i</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;asset&#x27;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// è¾“å‡ºæ–‡ä»¶ä½ç½®ä»¥åŠæ–‡ä»¶å</span></span><br><span class="line">          <span class="comment">// [ext] è‡ªå¸¦ &quot;.&quot; è¿™ä¸ªä¸ url-loader é…ç½®ä¸åŒ</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;[name][hash:8][ext]&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">50</span> * <span class="number">1024</span> <span class="comment">//è¶…è¿‡50kbä¸è½¬ base64</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(woff2?|eot|ttf|otf)(\?.*)?$/i</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;asset&#x27;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// è¾“å‡ºæ–‡ä»¶ä½ç½®ä»¥åŠæ–‡ä»¶å</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;[name][hash:8][ext]&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span> <span class="comment">// è¶…è¿‡100kbä¸è½¬ base64</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function">(<span class="params">env, argv</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;argv.mode=&#x27;</span>,argv.<span class="property">mode</span>) <span class="comment">// æ‰“å° mode(æ¨¡å¼) å€¼</span></span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ¨¡å¼ä¿®æ”¹ config é…ç½®</span></span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ‰“åŒ…ï¼Œç»“æœå’Œä¹‹å‰ä¸€æ ·</p>
<h4 id="1-15-JS-å…¼å®¹æ€§ï¼ˆBabelï¼‰"><a href="#1-15-JS-å…¼å®¹æ€§ï¼ˆBabelï¼‰" class="headerlink" title="1.15 JS å…¼å®¹æ€§ï¼ˆBabelï¼‰"></a>1.15 JS å…¼å®¹æ€§ï¼ˆBabelï¼‰</h4><p>åœ¨å¼€å‘ä¸­æˆ‘ä»¬æƒ³ä½¿ç”¨æœ€æ–°çš„ Js ç‰¹æ€§ï¼Œä½†æ˜¯æœ‰äº›æ–°ç‰¹æ€§çš„æµè§ˆå™¨æ”¯æŒå¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥ Js ä¹Ÿéœ€è¦åšå…¼å®¹å¤„ç†ï¼Œå¸¸è§çš„å°±æ˜¯å°† ES6 è¯­æ³•è½¬åŒ–ä¸º ES5ã€‚</p>
<p>è¿™é‡Œå°†ç™»åœºçš„â€œå…¨åœºæœ€é“çš„ä»”â€ â€“ Babel</p>
<ol>
<li>æœªé…ç½® Babel</li>
</ol>
<p>æˆ‘ä»¬å†™ç‚¹ ES6 çš„ä¸œè¥¿</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./main.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./sass.scss&#x27;</span></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;../public/avatar.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./fonts/iconfont.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Author</span> &#123;</span><br><span class="line">  name = <span class="string">&#x27;ITEM&#x27;</span></span><br><span class="line">  age = <span class="number">18</span></span><br><span class="line">  email = <span class="string">&#x27;lxp_work@163.com&#x27;</span></span><br><span class="line"></span><br><span class="line">  info =  <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="variable language_">this</span>.<span class="property">name</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="variable language_">this</span>.<span class="property">age</span>,</span><br><span class="line">      <span class="attr">email</span>: <span class="variable language_">this</span>.<span class="property">email</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">Author</span></span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†æ–¹ä¾¿çœ‹æºç ï¼Œæˆ‘ä»¬æŠŠ mode æ¢æˆ <code>development</code></p>
<p>æ¥ç€æ‰§è¡Œæ‰“åŒ…å‘½ä»¤</p>
<p>æ‰“åŒ…å®Œæˆä¹‹åï¼Œæ‰“å¼€ <code>bundle.js</code> æŸ¥çœ‹æ‰“åŒ…åçš„ç»“æœ</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7599da93b146442b89380f1a0b6b60d9~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72c389e772c84716bc2d39d9d3460f63~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>è™½ç„¶æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥æ‰¾æ‰“æˆ‘ä»¬çš„ä»£ç ï¼Œä½†æ˜¯é˜…è¯»èµ·æ¥æ¯”è¾ƒä¸ç›´è§‚ï¼Œæˆ‘ä»¬å…ˆè®¾ç½® mode ä¸º <code>none</code>ï¼Œä»¥æœ€åŸå§‹çš„å½¢å¼æ‰“åŒ…ï¼Œå†çœ‹ä¸€ä¸‹æ‰“åŒ…ç»“æœ</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a2d7d5965779444d9a0e547f0643de1f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æ‰“åŒ…åçš„ä»£ç å˜åŒ–ä¸å¤§ï¼Œåªæ˜¯å¯¹å›¾ç‰‡åœ°å€åšäº†æ›¿æ¢ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹é…ç½® babel åçš„æ‰“åŒ…ç»“æœä¼šæœ‰ä»€ä¹ˆå˜åŒ–</p>
<ol>
<li>å®‰è£…ä¾èµ–</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install babel-loader @babel/core @babel/preset-env -D</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>babel-loader</code> ä½¿ç”¨ Babel åŠ è½½ ES2015+ ä»£ç å¹¶å°†å…¶è½¬æ¢ä¸º ES5</p>
</li>
<li><p><code>@babel/core</code> Babel ç¼–è¯‘çš„æ ¸å¿ƒåŒ…</p>
</li>
<li><p><code>@babel/preset-env</code> Babel ç¼–è¯‘çš„é¢„è®¾ï¼Œå¯ä»¥ç†è§£ä¸º Babel æ’ä»¶çš„è¶…é›†</p>
</li>
</ul>
<ol>
<li>é…ç½® Babel é¢„è®¾</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>), <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/i</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">presets</span>: [</span><br><span class="line">                <span class="string">&#x27;@babel/preset-env&#x27;</span></span><br><span class="line">              ],</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>é…ç½®å®Œæˆä¹‹åæ‰§è¡Œä¸€ä¸‹æ‰“åŒ…</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/150bfa173e2640969731294876d75a22~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>åˆšæ‰å†™çš„ ES6 class å†™æ³• å·²ç»è½¬æ¢ä¸ºäº† ES5 çš„æ„é€ å‡½æ•°å½¢å¼</p>
<p>å°½ç„¶æ˜¯åšå…¼å®¹å¤„ç†ï¼Œæˆ‘ä»¬è‡ªç„¶ä¹Ÿå¯ä»¥æŒ‡å®šåˆ°åº•è¦å…¼å®¹å“ªäº›æµè§ˆå™¨</p>
<p>ä¸ºäº†é¿å… <code>webpack.config.js</code> å¤ªè‡ƒè‚¿ï¼Œå»ºè®®å°† Babel é…ç½®æ–‡ä»¶æå–å‡ºæ¥</p>
<p>æ ¹ç›®å½•ä¸‹æ–°å¢ <code>.babelrc.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./babelrc.js</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">presets</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// useBuiltIns: false é»˜è®¤å€¼ï¼Œæ— è§†æµè§ˆå™¨å…¼å®¹é…ç½®ï¼Œå¼•å…¥æ‰€æœ‰ polyfill</span></span><br><span class="line">        <span class="comment">// useBuiltIns: entry æ ¹æ®é…ç½®çš„æµè§ˆå™¨å…¼å®¹ï¼Œå¼•å…¥æµè§ˆå™¨ä¸å…¼å®¹çš„ polyfill</span></span><br><span class="line">        <span class="comment">// useBuiltIns: usage ä¼šæ ¹æ®é…ç½®çš„æµè§ˆå™¨å…¼å®¹ï¼Œä»¥åŠä½ ä»£ç ä¸­ç”¨åˆ°çš„ API æ¥è¿›è¡Œ polyfillï¼Œå®ç°äº†æŒ‰éœ€æ·»åŠ </span></span><br><span class="line">        <span class="attr">useBuiltIns</span>: <span class="string">&quot;entry&quot;</span>,</span><br><span class="line">        <span class="attr">corejs</span>: <span class="string">&quot;3.9.1&quot;</span>, <span class="comment">// æ˜¯ core-js ç‰ˆæœ¬å·</span></span><br><span class="line">        <span class="attr">targets</span>: &#123;</span><br><span class="line">          <span class="attr">chrome</span>: <span class="string">&quot;58&quot;</span>,</span><br><span class="line">          <span class="attr">ie</span>: <span class="string">&quot;11&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å¥½äº†ï¼Œè¿™é‡Œä¸€ä¸ªç®€å•çš„ Babel é¢„è®¾å°±é…ç½®å®Œäº†</p>
<p>å¸¸è§ Babel é¢„è®¾è¿˜æœ‰ï¼š</p>
<ul>
<li><code>@babel/preset-flow</code></li>
<li><code>@babel/preset-react</code></li>
<li><code>@babel/preset-typescript</code></li>
</ul>
<p>æ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±å»äº†è§£ä¸€ä¸‹ï¼Œè¿™é‡Œä¸åšæ‰©å±•äº†ï¼Œä¸‹é¢å†è¯´è¯´æ’ä»¶çš„ä½¿ç”¨</p>
<ol>
<li>é…ç½® Babel æ’ä»¶</li>
</ol>
<p>å¯¹äºæ­£åœ¨ææ¡ˆä¸­ï¼Œè¿˜æœªè¿›å…¥ ECMA è§„èŒƒä¸­çš„æ–°ç‰¹æ€§ï¼ŒBabel æ˜¯æ— æ³•è¿›è¡Œå¤„ç†çš„ï¼Œå¿…é¡»è¦å®‰è£…å¯¹åº”çš„æ’ä»¶ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./ index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./main.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./sass.scss&#x27;</span></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;../public/avatar.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./fonts/iconfont.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">img.<span class="property">src</span> = logo</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;imgBox&#x27;</span>).<span class="title function_">appendChild</span>(img)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°å¢è£…é¥°å™¨çš„ä½¿ç”¨</span></span><br><span class="line">@<span class="title function_">log</span>(<span class="string">&#x27;hi&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    target.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">logger</span> = <span class="function">() =&gt;</span> <span class="string">`<span class="subst">$&#123;text&#125;</span>ï¼Œ<span class="subst">$&#123;target.name&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test = <span class="keyword">new</span> <span class="title class_">MyClass</span>()</span><br><span class="line">test.<span class="title function_">logger</span>()</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸€ä¸‹æ‰“åŒ…</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c4b0bc28b22d4ce0a1ead379099dc888~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>ä¸å‡ºæ‰€æ–™ï¼Œè¯†åˆ«ä¸äº† ğŸ™…ğŸ»â€â™€ï¸</p>
<p>æ€ä¹ˆæ‰èƒ½ä½¿ç”¨å‘¢ï¼ŸBabel å…¶å®æä¾›äº†å¯¹åº”çš„æ’ä»¶ï¼š</p>
<ul>
<li><code>@babel/plugin-proposal-decorators</code></li>
<li><code>@babel/plugin-proposal-class-properties</code></li>
</ul>
<p>å®‰è£…ä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install babel/plugin-proposal-decorators @babel/plugin-proposal-<span class="keyword">class</span>-properties -D</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ <code>.babelrc.js</code> åŠ ä¸Šæ’ä»¶çš„é…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">presets</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">useBuiltIns</span>: <span class="string">&quot;entry&quot;</span>,</span><br><span class="line">        <span class="attr">corejs</span>: <span class="string">&quot;3.9.1&quot;</span>,</span><br><span class="line">        <span class="attr">targets</span>: &#123;</span><br><span class="line">          <span class="attr">chrome</span>: <span class="string">&quot;58&quot;</span>,</span><br><span class="line">          <span class="attr">ie</span>: <span class="string">&quot;11&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">plugins</span>: [    </span><br><span class="line">    [<span class="string">&quot;@babel/plugin-proposal-decorators&quot;</span>, &#123; <span class="attr">legacy</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">    [<span class="string">&quot;@babel/plugin-proposal-class-properties&quot;</span>, &#123; <span class="attr">loose</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥æ‰“åŒ…äº†ï¼Œåœ¨ <code>bundle.js</code> ä¸­å·²ç»è½¬åŒ–ä¸ºæµè§ˆå™¨æ”¯æŒçš„ Js ä»£ç </p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98984317dfe044e3beb9bcb865115720~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…éœ€æ±‚ï¼Œæ­é…ä¸åŒçš„æ’ä»¶è¿›è¡Œä½¿ç”¨</p>
<h3 id="2-SourceMap-é…ç½®é€‰æ‹©"><a href="#2-SourceMap-é…ç½®é€‰æ‹©" class="headerlink" title="2 SourceMap é…ç½®é€‰æ‹©"></a>2 SourceMap é…ç½®é€‰æ‹©</h3><p>SourceMap æ˜¯ä¸€ç§æ˜ å°„å…³ç³»ï¼Œå½“é¡¹ç›®è¿è¡Œåï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ SourceMap åå‘å®šä½åˆ°æºç ä½ç½®</p>
<h4 id="2-1-devtool-é…ç½®"><a href="#2-1-devtool-é…ç½®" class="headerlink" title="2.1 devtool é…ç½®"></a>2.1 devtool é…ç½®</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>), <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&#x27;source-map&#x27;</span>,</span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">     <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ‰“åŒ…åï¼Œdist ç›®å½•ä¸‹ä¼šç”Ÿæˆä»¥ <code>.map</code> ç»“å°¾çš„ SourceMap æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dist                   </span><br><span class="line">â”œâ”€ avatard4d42d52.png  </span><br><span class="line">â”œâ”€ bundle.js           </span><br><span class="line">â”œâ”€ bundle.js.map     </span><br><span class="line">â””â”€ index.html          </span><br></pre></td></tr></table></figure>

<p>é™¤äº† <code>source-map</code> è¿™ç§ç±»å‹ä¹‹å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šç§ç±»å‹å¯ä»¥ç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><code>eval</code></li>
<li><code>eval-source-map</code></li>
<li><code>cheap-source-map</code></li>
<li><code>inline-source-map</code></li>
<li><code>cheap-module-source-map</code></li>
<li><code>inline-cheap-source-map</code></li>
<li><code>cheap-module-eval-source-map</code></li>
<li><code>inline-cheap-module-source-map</code></li>
<li><code>hidden-source-map</code></li>
<li><code>nosources-source-map</code></li>
</ul>
<p>è¿™ä¹ˆå¤šç§ï¼Œåˆ°åº•éƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ</p>
<h4 id="2-2-é…ç½®é¡¹å·®å¼‚"><a href="#2-2-é…ç½®é¡¹å·®å¼‚" class="headerlink" title="2.2 é…ç½®é¡¹å·®å¼‚"></a>2.2 é…ç½®é¡¹å·®å¼‚</h4><ol>
<li>ä¸ºäº†æ–¹ä¾¿æ¯”è¾ƒå®ƒä»¬çš„ä¸åŒï¼Œæˆ‘ä»¬<strong>æ–°å»ºä¸€ä¸ªé¡¹ç›®</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">webpack_source_map                                             </span><br><span class="line">â”œâ”€ src                                      </span><br><span class="line">â”‚  â”œâ”€ <span class="title class_">Author</span>.<span class="property">js</span>                            </span><br><span class="line">â”‚  â””â”€ index.<span class="property">js</span>                               </span><br><span class="line">â”œâ”€ package.<span class="property">json</span>                             </span><br><span class="line">â””â”€ webpack.<span class="property">config</span>.<span class="property">js</span>                        </span><br></pre></td></tr></table></figure>

<ol>
<li>æ‰“å¼€ <code>./src/Author.js</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Author</span> &#123;</span><br><span class="line">  name = <span class="string">&#x27;ITEM&#x27;</span></span><br><span class="line">  age = <span class="number">18</span></span><br><span class="line">  email = <span class="string">&#x27;lxp_work@163.com&#x27;</span></span><br><span class="line"></span><br><span class="line">  info =  <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="variable language_">this</span>.<span class="property">name</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="variable language_">this</span>.<span class="property">age</span>,</span><br><span class="line">      <span class="attr">email</span>: <span class="variable language_">this</span>.<span class="property">email</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">Author</span></span><br></pre></td></tr></table></figure>

<ol>
<li>æ‰“å¼€ <code>./src/index.js</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Author</span> <span class="keyword">from</span> <span class="string">&#x27;./Author&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">img.<span class="property">src</span> = logo</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;imgBox&#x27;</span>).<span class="title function_">appendChild</span>(img)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> author = <span class="keyword">new</span> <span class="title class_">Author</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(author.<span class="property">info</span>)</span><br></pre></td></tr></table></figure>

<ol>
<li>æ‰“å¼€ <code>package.json</code></li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack-source-map&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MIT&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@babel/core&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.6.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/preset-env&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.6.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;babel-loader&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^8.0.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;html-webpack-plugin&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;webpack&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.44.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;webpack-cli&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.7.2&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>æ‰“å¼€ <code>webpack.config.js</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤šå…¥å£æ‰“åŒ…</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;a.js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;b.js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ‰“åŒ…å‘½ä»¤ <code>npm run build</code>ï¼Œçœ‹ä¸€ä¸‹ç»“æœ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dist     </span><br><span class="line">â”œâ”€ a.js  </span><br><span class="line">â””â”€ b.js  </span><br></pre></td></tr></table></figure>

<p>ä¸ç”¨å…³å¿ƒæ‰“åŒ…ç»“æœ <code>a.js b.js</code> é‡Œé¢æ˜¯ä»€ä¹ˆï¼Œåˆ°è¿™æ­¥çš„ç›®çš„æ˜¯æµ‹è¯•å¤šå…¥å£æ‰“åŒ…</p>
<p>æ”¹é€ æˆå¤šå…¥å£çš„ç›®çš„æ˜¯æ–¹ä¾¿æˆ‘ä»¬åé¢è¿›è¡Œæ¯”è¾ƒ</p>
<ol>
<li>ä¸åŒé…ç½®é¡¹ä½¿ç”¨å•ç‹¬çš„æ‰“åŒ…å…¥å£ï¼Œæ‰“å¼€ <code>webpack.config.js</code> ä¿®æ”¹</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1ï¼‰å®šä¹‰ä¸åŒçš„æ‰“åŒ…ç±»å‹</span></span><br><span class="line"><span class="keyword">const</span> allModes = [</span><br><span class="line">  <span class="string">&#x27;eval&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;eval-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;cheap-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;inline-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;cheap-eval-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;cheap-module-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;inline-cheap-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;cheap-module-eval-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;inline-cheap-module-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;hidden-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;nosources-source-map&#x27;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ï¼‰å¾ªç¯ä¸åŒ SourceMap æ¨¡å¼ï¼Œç”Ÿæˆå¤šä¸ªæ‰“åŒ…å…¥å£</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = allModes.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">devtool</span>: item,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">      <span class="attr">filename</span>: <span class="string">`js/<span class="subst">$&#123;item&#125;</span>.js`</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">      <span class="attr">rules</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">test</span>: <span class="regexp">/.js$/</span>,</span><br><span class="line">          <span class="attr">use</span>: &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">presets</span>: [<span class="string">&#x27;@babel/preset-env&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">      <span class="number">3</span>ï¼‰è¾“å‡ºåˆ°ä¸åŒçš„é¡µé¢</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">`<span class="subst">$&#123;item&#125;</span>.html`</span></span><br><span class="line">      &#125;)</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>æ¨¡æ‹Ÿä»£ç é”™è¯¯</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Author</span> <span class="keyword">from</span> <span class="string">&#x27;./Author&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="comment">// æ•…æ„ä½¿ç”¨äº†é”™è¯¯çš„ console.log </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log11</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">img.<span class="property">src</span> = logo</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;imgBox&#x27;</span>).<span class="title function_">appendChild</span>(img)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> author = <span class="keyword">new</span> <span class="title class_">Author</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(author.<span class="property">info</span>)</span><br></pre></td></tr></table></figure>

<ol>
<li>å°è¯•æ‰“åŒ…</li>
</ol>
<p>æŠ¥é”™äº†!!</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a867a6e05a8c4f199ca9958825b21b4f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æç¤ºæœ‰SourceMap æ¨¡å¼çš„åç§°ä¸å¯¹ï¼ŒåŸæ¥å®ƒä»¬çš„æ‹¼æ¥æ˜¯æœ‰è§„å¾‹å’Œæ„ä¹‰çš„</p>
<p>æˆ‘ä»¬æŒ‰ç…§æ ¡éªŒè§„åˆ™ <code>^(inline-|hidden-|eval-)?(nosources-)?(cheap-(module-)?)?source-map$</code> æ£€æŸ¥ä¸€ä¸‹</p>
<p><code>cheap-eval-source-map</code> å’Œ <code>cheap-module-eval-source-map</code> å¥½åƒæœ‰é—®é¢˜ï¼Œ<code>eval</code> è·‘åé¢å»äº†ï¼Œæ”¹ä¸€ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¿®æ”¹ä¹‹å</span></span><br><span class="line"><span class="keyword">const</span> allModes = [</span><br><span class="line">  <span class="string">&#x27;eval&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;eval-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;cheap-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;inline-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;eval-cheap-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;cheap-module-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;inline-cheap-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;eval-cheap-module-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;inline-cheap-module-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;hidden-source-map&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;nosources-source-map&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>å†æ‰§è¡Œä¸€ä¸‹æ‰“åŒ…</p>
<p>è¿˜æ˜¯æœ‰æŠ¥é”™ï¼ï¼æ¥ç€æ”¹</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/af32b5fa675e45c8880d637ccbba1681~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>é”™è¯¯ä¿¡æ¯æˆ‘æŸ¥äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚ç‡æ˜¯ <code>html-webpack-pugin</code> çš„ç‰ˆæœ¬å¤ªè€ï¼Œä¸å…¼å®¹ webpack5ï¼Œæˆ‘ä»¬å‡çº§ä¸€ä¸‹ç‰ˆæœ¬è‡³ <code>&quot;html-webpack-plugin&quot;: &quot;^5.3.2&quot;</code> å†å°è¯•ä¸€ä¸‹ï¼ŒOK äº†</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">dist                                     </span><br><span class="line">â”œâ”€ js                                    </span><br><span class="line">â”‚  â”œâ”€ cheap-module-source-map.js <span class="comment">#............ æœ‰å¯¹åº”çš„ .map æ–‡ä»¶        </span></span><br><span class="line">â”‚  â”œâ”€ cheap-module-source-map.js.map     </span><br><span class="line">â”‚  â”œâ”€ cheap-source-map.js <span class="comment">#................... æœ‰              </span></span><br><span class="line">â”‚  â”œâ”€ cheap-source-map.js.map            </span><br><span class="line">â”‚  â”œâ”€ eval-cheap-module-source-map.js <span class="comment">#....... æ—   </span></span><br><span class="line">â”‚  â”œâ”€ eval-cheap-source-map.js <span class="comment">#.............. æ—           </span></span><br><span class="line">â”‚  â”œâ”€ eval-source-map.js <span class="comment">#.................... æ—                </span></span><br><span class="line">â”‚  â”œâ”€ eval.js <span class="comment">#............................... æ—                            </span></span><br><span class="line">â”‚  â”œâ”€ hidden-source-map.js <span class="comment">#.................. æœ‰              </span></span><br><span class="line">â”‚  â”œâ”€ hidden-source-map.js.map           </span><br><span class="line">â”‚  â”œâ”€ inline-cheap-module-source-map.js <span class="comment">#..... æ—   </span></span><br><span class="line">â”‚  â”œâ”€ inline-cheap-source-map.js <span class="comment">#............ æ—          </span></span><br><span class="line">â”‚  â”œâ”€ inline-source-map.js <span class="comment">#.................. æ—                </span></span><br><span class="line">â”‚  â”œâ”€ nosources-source-map.js <span class="comment">#............... æœ‰           </span></span><br><span class="line">â”‚  â”œâ”€ nosources-source-map.js.map        </span><br><span class="line">â”‚  â”œâ”€ source-map.js <span class="comment">#......................... æœ‰                     </span></span><br><span class="line">â”‚  â””â”€ source-map.js.map                  </span><br><span class="line">â”œâ”€ cheap-module-source-map.html          </span><br><span class="line">â”œâ”€ cheap-source-map.html                 </span><br><span class="line">â”œâ”€ eval-cheap-module-source-map.html     </span><br><span class="line">â”œâ”€ eval-cheap-source-map.html            </span><br><span class="line">â”œâ”€ eval-source-map.html                  </span><br><span class="line">â”œâ”€ eval.html                             </span><br><span class="line">â”œâ”€ hidden-source-map.html                </span><br><span class="line">â”œâ”€ inline-cheap-module-source-map.html   </span><br><span class="line">â”œâ”€ inline-cheap-source-map.html          </span><br><span class="line">â”œâ”€ inline-source-map.html                </span><br><span class="line">â”œâ”€ nosources-source-map.html             </span><br><span class="line">â””â”€ source-map.html                       </span><br></pre></td></tr></table></figure>

<p>ä»ç›®å½•ç»“æ„æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çœ‹å‡ºæ¥ï¼Œå« <code>eval</code> å’Œ <code>inline</code> æ¨¡å¼çš„éƒ½æ²¡æœ‰å¯¹åº”çš„<code>.map</code> æ–‡ä»¶ï¼Œå…·ä½“ä¸ºä»€ä¹ˆï¼Œä¸‹é¢æ¥ç€åˆ†æ</p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬åœ¨ dist ç›®å½•èµ·ä¸€ä¸ªæœåŠ¡ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4201c3390f4242adbb92be333f6159cb~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>ç„¶åï¼Œæˆ‘ä»¬ä¸€ä¸ªä¸ªæ¥åˆ†æ</p>
<p><strong><code>eval</code> æ¨¡å¼ï¼š</strong></p>
<ol>
<li>ç”Ÿæˆä»£ç é€šè¿‡ <strong><code>eval</code></strong> æ‰§è¡Œ ğŸ‘‡ğŸ» <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/14663eba6d0d4f66b12586ecda2b2616~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></li>
<li>æºä»£ç ä½ç½®é€šè¿‡ <strong><code>@sourceURL</code></strong> æ³¨æ˜ ğŸ‘‡ğŸ»</li>
</ol>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/23343307c41c4e9cba4e7912e4117af4~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<ol>
<li>æ— æ³•å®šä½åˆ°é”™è¯¯ä½ç½®ï¼Œåªèƒ½å®šä½åˆ°<strong>æŸä¸ªæ–‡ä»¶</strong></li>
<li>ä¸ç”¨ç”Ÿæˆ SourceMap æ–‡ä»¶ï¼Œ<strong>æ‰“åŒ…é€Ÿåº¦å¿«</strong></li>
</ol>
<p><strong><code>source-map</code> æ¨¡å¼ï¼š</strong></p>
<ol>
<li>ç”Ÿæˆäº†å¯¹åº”çš„ SourceMap æ–‡ä»¶ï¼Œ<strong>æ‰“åŒ…é€Ÿåº¦æ…¢</strong></li>
<li>åœ¨<strong>æºä»£ç </strong>ä¸­å®šä½åˆ°é”™è¯¯æ‰€åœ¨<strong>è¡Œåˆ—</strong>ä¿¡æ¯ ğŸ‘‡ğŸ»</li>
</ol>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d0ac476816cc455eb29264c51cbcd434~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p><strong><code>eval-source-map</code> æ¨¡å¼ï¼š</strong></p>
<ol>
<li>ç”Ÿæˆä»£ç é€šè¿‡ <strong><code>eval</code> æ‰§è¡Œ</strong> ğŸ‘‡ğŸ»</li>
</ol>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c61268e879747b78db39d6f4a58adac~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"> 2. åŒ…å« <strong>dataUrl</strong> å½¢å¼çš„ SourceMap æ–‡ä»¶</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0b23cb999e644e3aba37182e2da1ebd4~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<ol>
<li>å¯ä»¥åœ¨<strong>ç¼–è¯‘å</strong>çš„ä»£ç ä¸­å®šä½åˆ°é”™è¯¯æ‰€åœ¨<strong>è¡Œåˆ—</strong>ä¿¡æ¯</li>
</ol>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0d1c061a71274b3182b1ad9fa2cb55d3~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<ol>
<li>ç”Ÿæˆ dataUrl å½¢å¼çš„ SourceMapï¼Œæ‰“åŒ…é€Ÿåº¦æ…¢</li>
</ol>
<p><strong><code>eval-cheap-source-map</code> æ¨¡å¼ï¼š</strong></p>
<ol>
<li>ç”Ÿæˆä»£ç é€šè¿‡ <strong><code>eval</code> æ‰§è¡Œ</strong></li>
<li>åŒ…å« <strong>dataUrl</strong> å½¢å¼çš„ SourceMap æ–‡ä»¶</li>
<li>å¯ä»¥åœ¨<strong>ç¼–è¯‘å</strong>çš„ä»£ç ä¸­å®šä½åˆ°é”™è¯¯æ‰€åœ¨<strong>è¡Œ</strong>ä¿¡æ¯</li>
<li>ä¸éœ€è¦å®šä½åˆ—ä¿¡æ¯ï¼Œæ‰“åŒ…<strong>é€Ÿåº¦è¾ƒå¿«</strong></li>
</ol>
<p><strong><code>eval-cheap-module-source-map</code> æ¨¡å¼ï¼š</strong></p>
<ol>
<li>ç”Ÿæˆä»£ç é€šè¿‡ <strong><code>eval</code></strong> æ‰§è¡Œ</li>
<li>åŒ…å« <strong>dataUrl</strong> å½¢å¼çš„ SourceMap æ–‡ä»¶</li>
<li>å¯ä»¥åœ¨<strong>ç¼–è¯‘å</strong>çš„ä»£ç ä¸­å®šä½åˆ°é”™è¯¯æ‰€åœ¨<strong>è¡Œ</strong>ä¿¡æ¯</li>
<li>ä¸éœ€è¦å®šä½åˆ—ä¿¡æ¯ï¼Œæ‰“åŒ…<strong>é€Ÿåº¦è¾ƒå¿«</strong></li>
<li>åœ¨<strong>æºä»£ç </strong>ä¸­å®šä½åˆ°é”™è¯¯æ‰€åœ¨<strong>è¡Œ</strong>ä¿¡æ¯ ğŸ‘‡ğŸ» <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b4a0ab355de438098f544fd339bd5c6~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></li>
</ol>
<p><strong><code>inline-source-map</code> æ¨¡å¼ï¼š</strong></p>
<ol>
<li>é€šè¿‡ <strong>dataUrl</strong> çš„å½¢å¼å¼•å…¥ SourceMap æ–‡ä»¶ ğŸ‘‡ğŸ» <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/127071e076ce40d0a9567d8a9ff2128d~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></li>
</ol>
<p>â€¦ ä½™ä¸‹å’Œ <code>source-map</code> æ¨¡å¼ä¸€æ ·</p>
<p><strong><code>hidden-source-map</code> æ¨¡å¼ï¼š</strong></p>
<ol>
<li>çœ‹ä¸åˆ° SourceMap æ•ˆæœï¼Œä½†æ˜¯ç”Ÿæˆäº† SourceMap æ–‡ä»¶</li>
</ol>
<p><strong><code>nosources-source-map</code> æ¨¡å¼ï¼š</strong></p>
<ol>
<li>èƒ½çœ‹åˆ°é”™è¯¯å‡ºç°çš„ä½ç½® ğŸ‘‡ğŸ»</li>
</ol>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1935a054b1dc47f7b2a0156a635a8ce7~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<ol>
<li>ä½†æ˜¯æ²¡æœ‰åŠæ³•ç°å®å¯¹åº”çš„æºç </li>
</ol>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a64e5446bd0c454091db7b72864a7504~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç¨å¾®æ€»ç»“ä¸€ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>devtool</th>
<th>build</th>
<th>rebuild</th>
<th>æ˜¾ç¤ºä»£ç </th>
<th>SourceMap æ–‡ä»¶</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>(none)</td>
<td>å¾ˆå¿«</td>
<td>å¾ˆå¿«</td>
<td>æ— </td>
<td>æ— </td>
<td>æ— æ³•å®šä½é”™è¯¯</td>
</tr>
<tr>
<td>eval</td>
<td>å¿«</td>
<td>å¾ˆå¿«ï¼ˆcacheï¼‰</td>
<td>ç¼–è¯‘å</td>
<td>æ— </td>
<td>å®šä½åˆ°æ–‡ä»¶</td>
</tr>
<tr>
<td>source-map</td>
<td>å¾ˆæ…¢</td>
<td>å¾ˆæ…¢</td>
<td>æºä»£ç </td>
<td>æœ‰</td>
<td>å®šä½åˆ°è¡Œåˆ—</td>
</tr>
<tr>
<td>eval-source-map</td>
<td>å¾ˆæ…¢</td>
<td>ä¸€èˆ¬ï¼ˆcacheï¼‰</td>
<td>ç¼–è¯‘å</td>
<td>æœ‰ï¼ˆdataUrlï¼‰</td>
<td>å®šä½åˆ°è¡Œåˆ—</td>
</tr>
<tr>
<td>eval-cheap-source-map</td>
<td>ä¸€èˆ¬</td>
<td>å¿«ï¼ˆcacheï¼‰</td>
<td>ç¼–è¯‘å</td>
<td>æœ‰ï¼ˆdataUrlï¼‰</td>
<td>å®šä½åˆ°è¡Œ</td>
</tr>
<tr>
<td>eval-cheap-module-source-map</td>
<td>æ…¢</td>
<td>å¿«ï¼ˆcacheï¼‰</td>
<td>æºä»£ç </td>
<td>æœ‰ï¼ˆdataUrlï¼‰</td>
<td>å®šä½åˆ°è¡Œ</td>
</tr>
<tr>
<td>inline-source-map</td>
<td>å¾ˆæ…¢</td>
<td>å¾ˆæ…¢</td>
<td>æºä»£ç </td>
<td>æœ‰ï¼ˆdataUrlï¼‰</td>
<td>å®šä½åˆ°è¡Œåˆ—</td>
</tr>
<tr>
<td>hidden-source-map</td>
<td>å¾ˆæ…¢</td>
<td>å¾ˆæ…¢</td>
<td>æºä»£ç </td>
<td>æœ‰</td>
<td>æ— æ³•å®šä½é”™è¯¯</td>
</tr>
<tr>
<td>nosource-source-map</td>
<td>å¾ˆæ…¢</td>
<td>å¾ˆæ…¢</td>
<td>æºä»£ç </td>
<td>æ— </td>
<td>å®šä½åˆ°æ–‡ä»¶</td>
</tr>
</tbody></table>
<p>å¯¹ç…§ä¸€ä¸‹æ ¡éªŒè§„åˆ™ <code>^(inline-|hidden-|eval-)?(nosources-)?(cheap-(module-)?)?source-map$</code> åˆ†æä¸€ä¸‹å…³é”®å­—</p>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>inline</td>
<td>ä»£ç å†…é€šè¿‡ dataUrl å½¢å¼å¼•å…¥ SourceMap</td>
</tr>
<tr>
<td>hidden</td>
<td>ç”Ÿæˆ SourceMap æ–‡ä»¶ï¼Œä½†ä¸ä½¿ç”¨</td>
</tr>
<tr>
<td>eval</td>
<td><code>eval(...)</code> å½¢å¼æ‰§è¡Œä»£ç ï¼Œé€šè¿‡ dataUrl å½¢å¼å¼•å…¥ SourceMap</td>
</tr>
<tr>
<td>nosources</td>
<td>ä¸ç”Ÿæˆ SourceMap</td>
</tr>
<tr>
<td>cheap</td>
<td>åªéœ€è¦å®šä½åˆ°è¡Œä¿¡æ¯ï¼Œä¸éœ€è¦åˆ—ä¿¡æ¯</td>
</tr>
<tr>
<td>module</td>
<td>å±•ç¤ºæºä»£ç ä¸­çš„é”™è¯¯ä½ç½®</td>
</tr>
</tbody></table>
<p>å¥½äº†ï¼Œåˆ°è¿™é‡Œ SourceMap å°±åˆ†æå®Œäº†</p>
<h4 id="2-3-æ¨èé…ç½®"><a href="#2-3-æ¨èé…ç½®" class="headerlink" title="2.3 æ¨èé…ç½®"></a>2.3 æ¨èé…ç½®</h4><ol>
<li>æœ¬åœ°å¼€å‘ï¼š</li>
</ol>
<p>æ¨èï¼š<code>eval-cheap-module-source-map</code></p>
<p>ç†ç”±ï¼š</p>
<ul>
<li><p>æœ¬åœ°å¼€å‘é¦–æ¬¡æ‰“åŒ…æ…¢ç‚¹æ²¡å…³ç³»ï¼Œå› ä¸º <code>eval</code> ç¼“å­˜çš„åŸå› ï¼Œrebuild ä¼šå¾ˆå¿«</p>
</li>
<li><p>å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ¯è¡Œä»£ç ä¸ä¼šå†™çš„å¤ªé•¿ï¼Œåªéœ€è¦å®šä½åˆ°è¡Œå°±è¡Œï¼Œæ‰€ä»¥åŠ ä¸Š <code>cheap</code></p>
</li>
<li><p>æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ‰¾åˆ°æºä»£ç çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯æ‰“åŒ…åçš„ï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Š <code>module</code></p>
</li>
</ul>
<ol>
<li>ç”Ÿäº§ç¯å¢ƒï¼š</li>
</ol>
<p>æ¨èï¼š<code>(none)</code></p>
<p>ç†ç”±ï¼š</p>
<ul>
<li>å°±æ˜¯ä¸æƒ³åˆ«äººçœ‹åˆ°æˆ‘çš„æºä»£ç </li>
</ul>
<h3 id="3-ä¸‰ç§-hash-å€¼"><a href="#3-ä¸‰ç§-hash-å€¼" class="headerlink" title="3. ä¸‰ç§ hash å€¼"></a>3. ä¸‰ç§ hash å€¼</h3><p>Webpack æ–‡ä»¶æŒ‡çº¹ç­–ç•¥æ˜¯å°†æ–‡ä»¶ååé¢åŠ ä¸Š hash å€¼ã€‚ç‰¹åˆ«åœ¨ä½¿ç”¨ CDN çš„æ—¶å€™ï¼Œç¼“å­˜æ˜¯å®ƒçš„ç‰¹ç‚¹ä¸ä¼˜åŠ¿ï¼Œä½†å¦‚æœæ‰“åŒ…çš„æ–‡ä»¶åï¼Œæ²¡æœ‰ hash åç¼€çš„è¯ï¼Œä½ è‚¯å®šä¼šè¢«ç¼“å­˜æŠ˜ç£¨çš„å¤Ÿå‘› ğŸ˜‚</p>
<p>ä¾‹å¦‚æˆ‘ä»¬åœ¨åŸºç¡€é…ç½®ä¸­ç”¨åˆ°çš„ï¼š<code>filename: &quot;[name][hash:8][ext]&quot;</code></p>
<p>è¿™é‡Œé‡Œé¢ <code>[]</code> åŒ…èµ·æ¥çš„ï¼Œå°±å«å ä½ç¬¦ï¼Œå®ƒä»¬éƒ½æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿè¯·çœ‹ä¸‹é¢è¿™ä¸ªè¡¨ ğŸ‘‡ğŸ»</p>
<table>
<thead>
<tr>
<th>å ä½ç¬¦</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>ext</td>
<td>æ–‡ä»¶åç¼€å</td>
</tr>
<tr>
<td>name</td>
<td>æ–‡ä»¶å</td>
</tr>
<tr>
<td>path</td>
<td>æ–‡ä»¶ç›¸å¯¹è·¯å¾„</td>
</tr>
<tr>
<td>folder</td>
<td>æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹</td>
</tr>
<tr>
<td>hash</td>
<td>æ¯æ¬¡æ„å»ºç”Ÿæˆçš„å”¯ä¸€ hash å€¼</td>
</tr>
<tr>
<td>chunkhash</td>
<td>æ ¹æ® chunk ç”Ÿæˆ hash å€¼</td>
</tr>
<tr>
<td>contenthash</td>
<td>æ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆhash å€¼</td>
</tr>
</tbody></table>
<p>è¡¨æ ¼é‡Œé¢çš„ <code>hash</code>ã€<code>chunkhash</code>ã€<code>contenthash</code> ä½ å¯èƒ½è¿˜æ˜¯ä¸æ¸…æ¥šå·®åˆ«åœ¨å“ª</p>
<ul>
<li><strong>hash</strong> ï¼šä»»ä½•ä¸€ä¸ªæ–‡ä»¶æ”¹åŠ¨ï¼Œæ•´ä¸ªé¡¹ç›®çš„æ„å»º hash å€¼éƒ½ä¼šæ”¹å˜ï¼›</li>
<li><strong>chunkhash</strong>ï¼šæ–‡ä»¶çš„æ”¹åŠ¨åªä¼šå½±å“å…¶æ‰€åœ¨ chunk çš„ hash å€¼ï¼›</li>
<li><strong>contenthash</strong>ï¼šæ¯ä¸ªæ–‡ä»¶éƒ½æœ‰å•ç‹¬çš„ hash å€¼ï¼Œæ–‡ä»¶çš„æ”¹åŠ¨åªä¼šå½±å“è‡ªèº«çš„ hash å€¼ï¼›</li>
</ul>
<h2 id="äºŒã€Webpack-è¿›é˜¶"><a href="#äºŒã€Webpack-è¿›é˜¶" class="headerlink" title="äºŒã€Webpack è¿›é˜¶"></a>äºŒã€Webpack è¿›é˜¶</h2><p>ç¬¬äºŒéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å‘â€œèƒ½ä¼˜åŒ–â€çš„æ–¹å‘å‰è¿› ğŸƒ</p>
<p>é™¤äº†é…ç½®ä¸Šçš„ä¼˜åŒ–å¤–ï¼Œæˆ‘ä»¬ä¹Ÿè¦å­¦ä¹ å¦‚ä½•è‡ªå·±å¼€å‘ Loader å’Œ Plugin</p>
<h3 id="1-ä¼˜åŒ–æ„å»ºé€Ÿåº¦"><a href="#1-ä¼˜åŒ–æ„å»ºé€Ÿåº¦" class="headerlink" title="1. ä¼˜åŒ–æ„å»ºé€Ÿåº¦"></a>1. ä¼˜åŒ–æ„å»ºé€Ÿåº¦</h3><h4 id="1-1-æ„å»ºè´¹æ—¶åˆ†æ"><a href="#1-1-æ„å»ºè´¹æ—¶åˆ†æ" class="headerlink" title="1.1 æ„å»ºè´¹æ—¶åˆ†æ"></a>1.1 æ„å»ºè´¹æ—¶åˆ†æ</h4><p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ’ä»¶ <a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/speed-measure-webpack-plugin">speed-measure-webpack-plugin</a>ï¼Œæˆ‘ä»¬å‚è€ƒæ–‡æ¡£é…ç½®ä¸€ä¸‹</p>
<ol>
<li>é¦–å…ˆå®‰è£…ä¸€ä¸‹</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -D speed-measure-webpack-plugin</span><br></pre></td></tr></table></figure>

<ol>
<li>ä¿®æ”¹æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ webpack.config.js</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// è´¹æ—¶åˆ†æ</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">SpeedMeasurePlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;speed-measure-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> smp = <span class="keyword">new</span> <span class="title class_">SpeedMeasurePlugin</span>();</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;...&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function">(<span class="params">env, argv</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ¨¡å¼ä¿®æ”¹ config é…ç½®</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> smp.<span class="title function_">wrap</span>(config);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>æ‰§è¡Œæ‰“åŒ…</li>
</ol>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ae510d710d494d22a00378d8d52753d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æŠ¥é”™äº†ğŸ¤¦ğŸ»â€â™‚ï¸</p>
<p>è¿™é‡Œå°±æš´éœ²äº†ä½¿ç”¨è¿™ä¸ªæ’ä»¶çš„ä¸€ä¸ªå¼Šç«¯ï¼Œå°±æ˜¯ï¼š</p>
<ul>
<li><strong>æœ‰äº› Loader æˆ–è€… Plugin æ–°ç‰ˆæœ¬ä¼šä¸å…¼å®¹ï¼Œéœ€è¦è¿›è¡Œé™çº§å¤„ç†</strong></li>
</ul>
<p>è¿™é‡Œæˆ‘ä»¬å¯¹ <code>mini-css-extract-plugin</code> è¿›è¡Œä¸€ä¸‹é™çº§å¤„ç†: <code>^2.1.0</code> -&gt; <code>^1.3.6</code></p>
<p>é‡æ–°å®‰è£…ä¸€ä¸‹ä¾èµ–ï¼Œå†æ¬¡æ‰§è¡Œæ‰“åŒ…</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e369fd6b2994270971fd87291e694f6~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>é™äº†ç‰ˆæœ¬ä¹‹åï¼Œè¿˜æ˜¯æŠ¥é”™ï¼Œæ ¹æ®æç¤ºä¿¡æ¯ï¼Œæˆ‘ä»¬ç»™é…ç½®åŠ ä¸Š <code>publicPath: &#39;./&#39;</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>), <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">    <span class="attr">publicPath</span>: <span class="string">&#x27;./&#x27;</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>åœ¨å°è¯•ä¸€æ¬¡</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8abe8e0dfeb94ffe94adce229d04d0e3~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æˆåŠŸäº†ï¼</p>
<blockquote>
<p><strong>æ³¨æ„ï¼šåœ¨ webpack5.x ä¸­ä¸ºäº†ä½¿ç”¨è´¹æ—¶åˆ†æå»å¯¹æ’ä»¶è¿›è¡Œé™çº§æˆ–è€…ä¿®æ”¹é…ç½®å†™æ³•æ˜¯éå¸¸ä¸åˆ’ç®—çš„</strong>ï¼Œè¿™é‡Œå› ä¸ºæ¼”ç¤ºéœ€è¦ï¼Œæˆ‘åé¢ä¼šç»§ç»­ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨å¹³æ—¶å¼€å‘ä¸­ï¼Œå»ºè®®è¿˜æ˜¯ä¸è¦ä½¿ç”¨ã€‚</p>
</blockquote>
<h4 id="1-2-ä¼˜åŒ–-resolve-é…ç½®"><a href="#1-2-ä¼˜åŒ–-resolve-é…ç½®" class="headerlink" title="1.2 ä¼˜åŒ– resolve é…ç½®"></a>1.2 ä¼˜åŒ– resolve é…ç½®</h4><h5 id="1-2-1-alias"><a href="#1-2-1-alias" class="headerlink" title="1.2.1 alias"></a>1.2.1 alias</h5><p>alias ç”¨çš„åˆ›å»º <code>import</code> æˆ– <code>require</code> çš„åˆ«åï¼Œç”¨æ¥ç®€åŒ–æ¨¡å—å¼•ç”¨ï¼Œé¡¹ç›®ä¸­åŸºæœ¬éƒ½éœ€è¦è¿›è¡Œé…ç½®ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line">...</span><br><span class="line"><span class="comment">// è·¯å¾„å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> config  = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">resolve</span>:&#123;</span><br><span class="line">    <span class="comment">// é…ç½®åˆ«å</span></span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;~&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;components&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src/components&#x27;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é…ç½®å®Œæˆä¹‹åï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å°±å¯ä»¥</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ src åˆ«å ~ </span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;~/fonts/iconfont.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ src åˆ«å @ </span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/fonts/iconfont.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ components åˆ«å</span></span><br><span class="line"><span class="keyword">import</span> footer <span class="keyword">from</span> <span class="string">&quot;components/footer&quot;</span>;</span><br></pre></td></tr></table></figure>

<h5 id="1-2-2-extensions"><a href="#1-2-2-extensions" class="headerlink" title="1.2.2 extensions"></a>1.2.2 extensions</h5><p>webpack é»˜è®¤é…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.json&#x27;</span>, <span class="string">&#x27;.wasm&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœç”¨æˆ·å¼•å…¥æ¨¡å—æ—¶ä¸å¸¦æ‰©å±•åï¼Œä¾‹å¦‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> file <span class="keyword">from</span> <span class="string">&#x27;../path/to/file&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆ webpack å°±ä¼šæŒ‰ç…§ extensions é…ç½®çš„æ•°ç»„ä»å·¦åˆ°å³çš„é¡ºåºå»å°è¯•è§£ææ¨¡å—</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p>
<ol>
<li>é«˜é¢‘æ–‡ä»¶åç¼€åæ”¾å‰é¢ï¼›</li>
<li>æ‰‹åŠ¨é…ç½®åï¼Œé»˜è®¤é…ç½®ä¼šè¢«è¦†ç›–</li>
</ol>
<p>å¦‚æœæƒ³ä¿ç•™é»˜è®¤é…ç½®ï¼Œå¯ä»¥ç”¨ <code>...</code> æ‰©å±•è¿ç®—ç¬¦ä»£è¡¨é»˜è®¤é…ç½®ï¼Œä¾‹å¦‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&#x27;.ts&#x27;</span>, <span class="string">&#x27;...&#x27;</span>], </span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="1-2-3-modules"><a href="#1-2-3-modules" class="headerlink" title="1.2.3 modules"></a>1.2.3 modules</h5><p>å‘Šè¯‰ webpack è§£ææ¨¡å—æ—¶åº”è¯¥æœç´¢çš„ç›®å½•ï¼Œå¸¸è§é…ç½®å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">     <span class="attr">modules</span>: [<span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>), <span class="string">&#x27;node_modules&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å‘Šè¯‰ webpack ä¼˜å…ˆ src ç›®å½•ä¸‹æŸ¥æ‰¾éœ€è¦è§£æçš„æ–‡ä»¶ï¼Œä¼šå¤§å¤§èŠ‚çœæŸ¥æ‰¾æ—¶é—´</p>
<h5 id="1-2-4-resolveLoader"><a href="#1-2-4-resolveLoader" class="headerlink" title="1.2.4 resolveLoader"></a>1.2.4 resolveLoader</h5><p>resolveLoader ä¸ä¸Šé¢çš„ resolve å¯¹è±¡çš„å±æ€§é›†åˆç›¸åŒï¼Œ ä½†ä»…ç”¨äºè§£æ webpack çš„ <a href="https://link.juejin.cn/?target=https://webpack.docschina.org/concepts/loaders">loader</a> åŒ…ã€‚</p>
<p><strong>ä¸€èˆ¬æƒ…å†µä¸‹ä¿æŒé»˜è®¤é…ç½®å°±å¯ä»¥äº†ï¼Œä½†å¦‚æœä½ æœ‰è‡ªå®šä¹‰çš„ Loader å°±éœ€è¦é…ç½®ä¸€ä¸‹</strong>ï¼Œä¸é…å¯èƒ½ä¼šå› ä¸ºæ‰¾ä¸åˆ° loader æŠ¥é”™</p>
<ul>
<li>ä¾‹å¦‚ï¼šæˆ‘ä»¬åœ¨ loader æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ”¾ç€æˆ‘ä»¬è‡ªå·±å†™çš„ loader</li>
</ul>
<p>æˆ‘ä»¬å°±å¯ä»¥æ€ä¹ˆé…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">resolveLoader</span>: &#123;</span><br><span class="line">    <span class="attr">modules</span>: [<span class="string">&#x27;node_modules&#x27;</span>,<span class="title function_">resolve</span>(<span class="string">&#x27;loader&#x27;</span>)]</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="1-3-externals"><a href="#1-3-externals" class="headerlink" title="1.3 externals"></a>1.3 externals</h4><p><code>externals</code> é…ç½®é€‰é¡¹æä¾›äº†ã€Œ<strong>ä»è¾“å‡ºçš„ bundle ä¸­æ’é™¤ä¾èµ–</strong>ã€çš„æ–¹æ³•ã€‚æ­¤åŠŸèƒ½é€šå¸¸å¯¹ <strong>library å¼€å‘äººå‘˜</strong>æ¥è¯´æ˜¯æœ€æœ‰ç”¨çš„ï¼Œç„¶è€Œä¹Ÿä¼šæœ‰å„ç§å„æ ·çš„åº”ç”¨ç¨‹åºç”¨åˆ°å®ƒã€‚</p>
<p>ä¾‹å¦‚ï¼Œä» CDN å¼•å…¥ jQueryï¼Œè€Œä¸æ˜¯æŠŠå®ƒæ‰“åŒ…ï¼š</p>
<ol>
<li>å¼•å…¥é“¾æ¥</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span></span></span><br><span class="line"><span class="tag">  <span class="attr">src</span>=<span class="string">&quot;https://code.jquery.com/jquery-3.1.0.js&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">integrity</span>=<span class="string">&quot;sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk=&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½® externals</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">externals</span>: &#123;</span><br><span class="line">    <span class="attr">jquery</span>: <span class="string">&#x27;jQuery&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol>
<li>ä½¿ç”¨ jQuery</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">&#x27;jquery&#x27;</span>;</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;.my-element&#x27;</span>).<span class="title function_">animate</span>(<span class="comment">/* ... */</span>);</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥ç”¨è¿™æ ·çš„æ–¹æ³•æ¥å‰¥ç¦»ä¸éœ€è¦æ”¹åŠ¨çš„ä¸€äº›ä¾èµ–ï¼Œå¤§å¤§èŠ‚çœæ‰“åŒ…æ„å»ºçš„æ—¶é—´ã€‚</p>
<h4 id="1-3-ç¼©å°èŒƒå›´"><a href="#1-3-ç¼©å°èŒƒå›´" class="headerlink" title="1.3 ç¼©å°èŒƒå›´"></a>1.3 ç¼©å°èŒƒå›´</h4><p>åœ¨é…ç½® loader çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ›´ç²¾ç¡®çš„å»æŒ‡å®š loader çš„ä½œç”¨ç›®å½•æˆ–è€…éœ€è¦æ’é™¤çš„ç›®å½•ï¼Œé€šè¿‡ä½¿ç”¨ <code>include</code> å’Œ <code>exclude</code> ä¸¤ä¸ªé…ç½®é¡¹ï¼Œå¯ä»¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œå¸¸è§çš„ä¾‹å¦‚ï¼š</p>
<ul>
<li>**<code>include</code>**ï¼šç¬¦åˆæ¡ä»¶çš„æ¨¡å—è¿›è¡Œè§£æ</li>
<li>**<code>exclude</code>**ï¼šæ’é™¤ç¬¦åˆæ¡ä»¶çš„æ¨¡å—ï¼Œä¸è§£æ</li>
<li><strong><code>exclude</code></strong> ä¼˜å…ˆçº§æ›´é«˜</li>
</ul>
<p>ä¾‹å¦‚åœ¨é…ç½® babel çš„æ—¶å€™</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">noParse</span>: <span class="regexp">/jquery|lodash/</span>,</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/i</span>,</span><br><span class="line">        <span class="attr">include</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="1-3-noParse"><a href="#1-3-noParse" class="headerlink" title="1.3 noParse"></a>1.3 noParse</h4><ul>
<li>ä¸éœ€è¦è§£æä¾èµ–çš„ç¬¬ä¸‰æ–¹å¤§å‹ç±»åº“ç­‰ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå­—æ®µè¿›è¡Œé…ç½®ï¼Œä»¥æé«˜æ„å»ºé€Ÿåº¦</li>
<li>ä½¿ç”¨ noParse è¿›è¡Œå¿½ç•¥çš„æ¨¡å—æ–‡ä»¶ä¸­ä¸ä¼šè§£æ <code>import</code>ã€<code>require</code> ç­‰è¯­æ³•</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">noParse</span>: <span class="regexp">/jquery|lodash/</span>,</span><br><span class="line">    <span class="attr">rules</span>:[...]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="1-4-IgnorePlugin"><a href="#1-4-IgnorePlugin" class="headerlink" title="1.4 IgnorePlugin"></a>1.4 IgnorePlugin</h4><p>é˜²æ­¢åœ¨ <code>import</code> æˆ– <code>require</code> è°ƒç”¨æ—¶ï¼Œç”Ÿæˆä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ¨¡å—ï¼š</p>
<ul>
<li><code>requestRegExp</code> åŒ¹é…(test)èµ„æºè¯·æ±‚è·¯å¾„çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li>
<li><code>contextRegExp</code> åŒ¹é…(test)èµ„æºä¸Šä¸‹æ–‡ï¼ˆç›®å½•ï¼‰çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.<span class="title class_">IgnorePlugin</span>(&#123; resourceRegExp, contextRegExp &#125;);</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†æ­¤æ’ä»¶çš„å‡ ç§ç”¨æ³•ã€‚</p>
<ol>
<li>å®‰è£… moment æ’ä»¶ï¼ˆæ—¶é—´å¤„ç†åº“ï¼‰</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -S moment</span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½® IgnorePlugin</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ webpack</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">new</span> webpack.<span class="title class_">IgnorePlugin</span>(&#123;</span><br><span class="line">      <span class="attr">resourceRegExp</span>: <span class="regexp">/^\.\/locale$/</span>,</span><br><span class="line">      <span class="attr">contextRegExp</span>: <span class="regexp">/moment$/</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ]  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç›®çš„æ˜¯å°†æ’ä»¶ä¸­çš„éä¸­æ–‡è¯­éŸ³æ’é™¤æ‰ï¼Œè¿™æ ·å°±å¯ä»¥å¤§å¤§èŠ‚çœæ‰“åŒ…çš„ä½“ç§¯äº†</p>
<h4 id="1-5-å¤šè¿›ç¨‹é…ç½®"><a href="#1-5-å¤šè¿›ç¨‹é…ç½®" class="headerlink" title="1.5 å¤šè¿›ç¨‹é…ç½®"></a>1.5 å¤šè¿›ç¨‹é…ç½®</h4><blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå®é™…ä¸Šåœ¨å°å‹é¡¹ç›®ä¸­ï¼Œå¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…åè€Œä¼šå¢åŠ æ—¶é—´æˆæœ¬ï¼Œå› ä¸ºå¯åŠ¨è¿›ç¨‹å’Œè¿›ç¨‹é—´é€šä¿¡éƒ½ä¼šæœ‰ä¸€å®šå¼€é”€ã€‚</p>
</blockquote>
<h5 id="1-5-1-thread-loader"><a href="#1-5-1-thread-loader" class="headerlink" title="1.5.1 thread-loader"></a>1.5.1 thread-loader</h5><p>é…ç½®åœ¨ <a href="https://link.juejin.cn/?target=https://webpack.docschina.org/loaders/thread-loader/%23root">thread-loader</a> ä¹‹åçš„ loader éƒ½ä¼šåœ¨ä¸€ä¸ªå•ç‹¬çš„ worker æ± ï¼ˆworker poolï¼‰ä¸­è¿è¡Œ</p>
<ol>
<li>å®‰è£…</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -D  thread-loader</span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">noParse</span>: <span class="regexp">/jquery|lodash/</span>,</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/i</span>,</span><br><span class="line">        <span class="attr">include</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;thread-loader&#x27;</span>, <span class="comment">// å¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…</span></span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">worker</span>: <span class="number">3</span>,</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="1-5-2-happypack-âŒ"><a href="#1-5-2-happypack-âŒ" class="headerlink" title="1.5.2 happypack âŒ"></a>1.5.2 happypack âŒ</h5><p>åŒæ ·ä¸ºå¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…çš„å·¥å…·ï¼Œwebpack5 å·²å¼ƒç”¨ã€‚</p>
<h4 id="1-6-åˆ©ç”¨ç¼“å­˜"><a href="#1-6-åˆ©ç”¨ç¼“å­˜" class="headerlink" title="1.6 åˆ©ç”¨ç¼“å­˜"></a>1.6 åˆ©ç”¨ç¼“å­˜</h4><p>åˆ©ç”¨ç¼“å­˜å¯ä»¥å¤§å¹…æå‡é‡å¤æ„å»ºçš„é€Ÿåº¦</p>
<h5 id="1-6-1-babel-loader-å¼€å¯ç¼“å­˜"><a href="#1-6-1-babel-loader-å¼€å¯ç¼“å­˜" class="headerlink" title="1.6.1 babel-loader å¼€å¯ç¼“å­˜"></a>1.6.1 babel-loader å¼€å¯ç¼“å­˜</h5><ul>
<li>babel åœ¨è½¬è¯‘ js è¿‡ç¨‹ä¸­æ—¶é—´å¼€é”€æ¯”ä»·å¤§ï¼Œå°† babel-loader çš„æ‰§è¡Œç»“æœç¼“å­˜èµ·æ¥ï¼Œé‡æ–°æ‰“åŒ…çš„æ—¶å€™ï¼Œç›´æ¥è¯»å–ç¼“å­˜</li>
<li>ç¼“å­˜ä½ç½®ï¼š <code>node_modules/.cache/babel-loader</code></li>
</ul>
<p>å…·ä½“é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line"> <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">noParse</span>: <span class="regexp">/jquery|lodash/</span>,</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/i</span>,</span><br><span class="line">        <span class="attr">include</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="comment">// ...</span></span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">cacheDirectory</span>: <span class="literal">true</span> <span class="comment">// å¯ç”¨ç¼“å­˜</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£å…¶ä»–çš„ loader å¦‚ä½•å°†ç»“æœç¼“å­˜å‘¢ï¼Ÿ</p>
<p><a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/cache-loader">cache-loader</a> å°±å¯ä»¥å¸®æˆ‘ä»¬å®Œæˆè¿™ä»¶äº‹æƒ…</p>
<h5 id="1-6-2-cache-loader"><a href="#1-6-2-cache-loader" class="headerlink" title="1.6.2 cache-loader"></a>1.6.2 cache-loader</h5><ul>
<li><p>ç¼“å­˜ä¸€äº›æ€§èƒ½å¼€é”€æ¯”è¾ƒå¤§çš„ loader çš„å¤„ç†ç»“æœ</p>
</li>
<li><p>ç¼“å­˜ä½ç½®ï¼š<code>node_modules/.cache/cache-loader</code></p>
</li>
</ul>
<ol>
<li>å®‰è£…</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -D cache-loader</span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½® cache-loader</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line"> <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(s[ac]|c)ss$/i</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ sass/scss/css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="comment">// &#x27;style-loader&#x27;,</span></span><br><span class="line">          <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">          <span class="string">&#x27;cache-loader&#x27;</span>, <span class="comment">// è·å–å‰é¢ loader è½¬æ¢çš„ç»“æœ</span></span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;postcss-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;sass-loader&#x27;</span>, </span><br><span class="line">        ]</span><br><span class="line">      &#125;, </span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="1-6-3-hard-source-webpack-plugin"><a href="#1-6-3-hard-source-webpack-plugin" class="headerlink" title="1.6.3 hard-source-webpack-plugin"></a>1.6.3 hard-source-webpack-plugin</h5><ul>
<li><a href="https://link.juejin.cn/?target=https://github.com/mzgoddard/hard-source-webpack-plugin">hard-source-webpack-plugin</a> ä¸ºæ¨¡å—æä¾›äº†ä¸­é—´ç¼“å­˜ï¼Œé‡å¤æ„å»ºæ—¶é—´å¤§çº¦å¯ä»¥å‡å°‘ 80%ï¼Œä½†æ˜¯åœ¨ <strong>webpack5 ä¸­å·²ç»å†…ç½®äº†æ¨¡å—ç¼“å­˜ï¼Œä¸éœ€è¦å†ä½¿ç”¨æ­¤æ’ä»¶</strong></li>
</ul>
<h5 id="1-6-4-dll-âŒ"><a href="#1-6-4-dll-âŒ" class="headerlink" title="1.6.4 dll âŒ"></a>1.6.4 dll âŒ</h5><p>åœ¨ webpack5.x ä¸­å·²ç»ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œæ¨¡å—ç¼“å­˜ï¼Œå› ä¸ºå…¶å·²ç»å†…ç½®äº†æ›´å¥½ä½“éªŒçš„ cache æ–¹æ³•</p>
<h5 id="1-6-5-cache-æŒä¹…åŒ–ç¼“å­˜"><a href="#1-6-5-cache-æŒä¹…åŒ–ç¼“å­˜" class="headerlink" title="1.6.5 cache æŒä¹…åŒ–ç¼“å­˜"></a>1.6.5 cache æŒä¹…åŒ–ç¼“å­˜</h5><p>é€šè¿‡é…ç½® <a href="https://link.juejin.cn/?target=https://webpack.docschina.org/configuration/cache/%23root">cache</a> ç¼“å­˜ç”Ÿæˆçš„ webpack æ¨¡å—å’Œ chunkï¼Œæ¥æ”¹å–„æ„å»ºé€Ÿåº¦ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">cache</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;filesystem&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="2-ä¼˜åŒ–æ„å»ºç»“æœ"><a href="#2-ä¼˜åŒ–æ„å»ºç»“æœ" class="headerlink" title="2. ä¼˜åŒ–æ„å»ºç»“æœ"></a>2. ä¼˜åŒ–æ„å»ºç»“æœ</h3><h4 id="2-1-æ„å»ºç»“æœåˆ†æ"><a href="#2-1-æ„å»ºç»“æœåˆ†æ" class="headerlink" title="2.1 æ„å»ºç»“æœåˆ†æ"></a>2.1 æ„å»ºç»“æœåˆ†æ</h4><p>å€ŸåŠ©æ’ä»¶ <a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/webpack-bundle-analyzer">webpack-bundle-analyzer</a> æˆ‘ä»¬å¯ä»¥ç›´è§‚çš„çœ‹åˆ°æ‰“åŒ…ç»“æœä¸­ï¼Œæ–‡ä»¶çš„ä½“ç§¯å¤§å°ã€å„æ¨¡å—ä¾èµ–å…³ç³»ã€æ–‡ä»¶æ˜¯å¤Ÿé‡å¤ç­‰é—®é¢˜ï¼Œæå¤§çš„æ–¹ä¾¿æˆ‘ä»¬åœ¨è¿›è¡Œé¡¹ç›®ä¼˜åŒ–çš„æ—¶å€™ï¼Œè¿›è¡Œé—®é¢˜è¯Šæ–­ã€‚</p>
<ol>
<li>å®‰è£…</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -D webpack-bundle-analyzer</span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½®æ’ä»¶</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥æ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">BundleAnalyzerPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;webpack-bundle-analyzer&#x27;</span>).<span class="property">BundleAnalyzerPlugin</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>:[ </span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="comment">// é…ç½®æ’ä»¶ </span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">BundleAnalyzerPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// analyzerMode: &#x27;disabled&#x27;,  // ä¸å¯åŠ¨å±•ç¤ºæ‰“åŒ…æŠ¥å‘Šçš„httpæœåŠ¡å™¨</span></span><br><span class="line">      <span class="comment">// generateStatsFile: true, // æ˜¯å¦ç”Ÿæˆstats.jsonæ–‡ä»¶</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol>
<li>ä¿®æ”¹å¯åŠ¨å‘½ä»¤</li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">   <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=prod webpack --progress --mode production&quot;</span></span><br><span class="line"> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<ol>
<li>æ‰§è¡Œç¼–è¯‘å‘½ä»¤ <code>npm run analyzer</code></li>
</ol>
<p>æ‰“åŒ…ç»“æŸåï¼Œä¼šè‡ªè¡Œå¯åŠ¨åœ°å€ä¸º <code>http://127.0.0.1:8888</code> çš„ web æœåŠ¡ï¼Œè®¿é—®åœ°å€å°±å¯ä»¥çœ‹åˆ°</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ee392f0838bd43e5aeeb405c76f2fbc7~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>å¦‚æœï¼Œæˆ‘ä»¬åªæƒ³ä¿ç•™æ•°æ®ä¸æƒ³å¯åŠ¨ web æœåŠ¡ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸Šä¸¤ä¸ªé…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">BundleAnalyzerPlugin</span>(&#123;</span><br><span class="line">   <span class="attr">analyzerMode</span>: <span class="string">&#x27;disabled&#x27;</span>,  <span class="comment">// ä¸å¯åŠ¨å±•ç¤ºæ‰“åŒ…æŠ¥å‘Šçš„httpæœåŠ¡å™¨</span></span><br><span class="line">   <span class="attr">generateStatsFile</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦ç”Ÿæˆstats.jsonæ–‡ä»¶</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å†æ¬¡æ‰§è¡Œæ‰“åŒ…çš„æ—¶å€™å°±åªä¼šäº§ç”Ÿ state.json çš„æ–‡ä»¶äº†</p>
<h4 id="2-2-å‹ç¼©-CSS"><a href="#2-2-å‹ç¼©-CSS" class="headerlink" title="2.2 å‹ç¼© CSS"></a>2.2 å‹ç¼© CSS</h4><ol>
<li>å®‰è£… <a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/optimize-css-assets-webpack-plugin"><code>optimize-css-assets-webpack-plugin</code></a></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -D optimize-css-assets-webpack-plugin </span><br></pre></td></tr></table></figure>

<ol>
<li>ä¿®æ”¹ <code>webapck.config.js</code> é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// å‹ç¼©css</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">OptimizeCssAssetsPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;optimize-css-assets-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimize</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">minimizer</span>: [</span><br><span class="line">      <span class="comment">// æ·»åŠ  css å‹ç¼©é…ç½®</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">OptimizeCssAssetsPlugin</span>(&#123;&#125;),</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line"> <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<ol>
<li>æŸ¥çœ‹æ‰“åŒ…ç»“æœ</li>
</ol>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2b3174e204994b2e9c845f5bbc144577~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<h4 id="2-3-å‹ç¼©-JS"><a href="#2-3-å‹ç¼©-JS" class="headerlink" title="2.3 å‹ç¼© JS"></a>2.3 å‹ç¼© JS</h4><blockquote>
<p>åœ¨ç”Ÿæˆç¯å¢ƒä¸‹æ‰“åŒ…é»˜è®¤ä¼šå¼€å¯ js å‹ç¼©ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æ‰‹åŠ¨é…ç½® <code>optimization</code> é€‰é¡¹ä¹‹åï¼Œå°±ä¸å†é»˜è®¤å¯¹ js è¿›è¡Œå‹ç¼©ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»é…ç½®ã€‚</p>
</blockquote>
<p>å› ä¸º webpack5 å†…ç½®äº†<a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/terser-webpack-plugin">terser-webpack-plugin</a> æ’ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€é‡å¤å®‰è£…ï¼Œç›´æ¥å¼•ç”¨å°±å¯ä»¥äº†ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">TerserPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;terser-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimize</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯æœ€å°åŒ–</span></span><br><span class="line">    <span class="attr">minimizer</span>: [</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">TerserPlugin</span>(&#123;&#125;)</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-4-æ¸…é™¤æ— ç”¨çš„-CSS"><a href="#2-4-æ¸…é™¤æ— ç”¨çš„-CSS" class="headerlink" title="2.4 æ¸…é™¤æ— ç”¨çš„ CSS"></a>2.4 æ¸…é™¤æ— ç”¨çš„ CSS</h4><p><a href="https://link.juejin.cn/?target=https://www.purgecss.cn/plugins/webpack.html%23%E7%94%A8%E6%B3%95">purgecss-webpack-plugin</a> ä¼šå•ç‹¬æå– CSS å¹¶æ¸…é™¤ç”¨ä¸åˆ°çš„ CSS</p>
<ol>
<li>å®‰è£…æ’ä»¶</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -D purgecss-webpack-plugin</span><br></pre></td></tr></table></figure>

<ol>
<li>æ·»åŠ é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">PurgecssWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;purgecss-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">&#x27;glob&#x27;</span>); <span class="comment">// æ–‡ä»¶åŒ¹é…æ¨¡å¼</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PATHS</span> = &#123;</span><br><span class="line">  <span class="attr">src</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">PurgecssPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">paths</span>: glob.<span class="title function_">sync</span>(<span class="string">`<span class="subst">$&#123;PATHS.src&#125;</span>/**/*`</span>, &#123;<span class="attr">nodir</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">    &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>index.html æ–°å¢èŠ‚ç‚¹</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>ITEM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ä½¿ç”¨å­—ä½“å›¾æ ‡æ–‡ä»¶ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-member&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;imgBox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- æ–°å¢ divï¼Œè®¾ç½® class ä¸º used --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;used&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>åœ¨ sass.scss ä¸­æ·»åŠ æ ·å¼</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.used</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.unused</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: chocolate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>æ‰§è¡Œä¸€ä¸‹æ‰“åŒ…</li>
</ol>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7ca0ac6b477146ad82d6b1332ae626a6~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åªæœ‰ <code>.used</code> è¢«ä¿å­˜ä¸‹æ¥</p>
<p>å¦‚ä½•è¯æ˜æ˜¯è¿™ä¸ªæ’ä»¶çš„ä½œç”¨å‘¢ï¼Ÿæ³¨é‡Šæ‰å†æ‰“åŒ…å°±å¯ä»¥çœ‹åˆ°ï¼Œ<code>.unused</code> ä¹Ÿä¼šè¢«æ‰“åŒ…è¿›å»ï¼Œç”±æ­¤å¯è¯â€¦</p>
<h4 id="2-5-Tree-shaking"><a href="#2-5-Tree-shaking" class="headerlink" title="2.5 Tree-shaking"></a>2.5 Tree-shaking</h4><p>Tree-shaking ä½œç”¨æ˜¯å‰”é™¤æ²¡æœ‰ä½¿ç”¨çš„ä»£ç ï¼Œä»¥é™ä½åŒ…çš„ä½“ç§¯</p>
<ul>
<li>webpack é»˜è®¤æ”¯æŒï¼Œéœ€è¦åœ¨ .bablerc é‡Œé¢è®¾ç½® <code>modelï¼šfalse</code>ï¼Œå³å¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹é»˜è®¤å¼€å¯</li>
</ul>
<p>äº†è§£æ›´å¤š Tree-shaking çŸ¥è¯†ï¼Œæ¨èé˜…è¯» ğŸ‘‰ğŸ» <a href="https://link.juejin.cn/?target=https://mp.weixin.qq.com/s/TNXO2ifPymaTxIqzBAmkSQ">ä»è¿‡å»åˆ°ç°åœ¨ï¼ŒèŠèŠ Tree-shaking</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">presets</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">module</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">useBuiltIns</span>: <span class="string">&quot;entry&quot;</span>,</span><br><span class="line">        <span class="attr">corejs</span>: <span class="string">&quot;3.9.1&quot;</span>,</span><br><span class="line">        <span class="attr">targets</span>: &#123;</span><br><span class="line">          <span class="attr">chrome</span>: <span class="string">&quot;58&quot;</span>,</span><br><span class="line">          <span class="attr">ie</span>: <span class="string">&quot;11&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">plugins</span>: [    </span><br><span class="line">    [<span class="string">&quot;@babel/plugin-proposal-decorators&quot;</span>, &#123; <span class="attr">legacy</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">    [<span class="string">&quot;@babel/plugin-proposal-class-properties&quot;</span>, &#123; <span class="attr">loose</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="2-6-Scope-Hoisting"><a href="#2-6-Scope-Hoisting" class="headerlink" title="2.6 Scope Hoisting"></a>2.6 Scope Hoisting</h4><p>Scope Hoisting å³ä½œç”¨åŸŸæå‡ï¼ŒåŸç†æ˜¯å°†å¤šä¸ªæ¨¡å—æ”¾åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹ï¼Œå¹¶é‡å‘½åé˜²æ­¢å‘½åå†²çªï¼Œ<strong>é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥å‡å°‘å‡½æ•°å£°æ˜å’Œå†…å­˜å¼€é”€</strong>ã€‚</p>
<ul>
<li>webpack é»˜è®¤æ”¯æŒï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹é»˜è®¤å¼€å¯</li>
<li>åªæ”¯æŒ es6 ä»£ç </li>
</ul>
<h3 id="3-ä¼˜åŒ–è¿è¡Œæ—¶ä½“éªŒ"><a href="#3-ä¼˜åŒ–è¿è¡Œæ—¶ä½“éªŒ" class="headerlink" title="3. ä¼˜åŒ–è¿è¡Œæ—¶ä½“éªŒ"></a>3. ä¼˜åŒ–è¿è¡Œæ—¶ä½“éªŒ</h3><p>è¿è¡Œæ—¶ä¼˜åŒ–çš„æ ¸å¿ƒå°±æ˜¯æå‡é¦–å±çš„åŠ è½½é€Ÿåº¦ï¼Œä¸»è¦çš„æ–¹å¼å°±æ˜¯</p>
<ul>
<li>é™ä½é¦–å±åŠ è½½æ–‡ä»¶ä½“ç§¯ï¼Œé¦–å±ä¸éœ€è¦çš„æ–‡ä»¶è¿›è¡Œé¢„åŠ è½½æˆ–è€…æŒ‰éœ€åŠ è½½</li>
</ul>
<h4 id="3-1-å…¥å£ç‚¹åˆ†å‰²"><a href="#3-1-å…¥å£ç‚¹åˆ†å‰²" class="headerlink" title="3.1 å…¥å£ç‚¹åˆ†å‰²"></a>3.1 å…¥å£ç‚¹åˆ†å‰²</h4><p>é…ç½®å¤šä¸ªæ‰“åŒ…å…¥å£ï¼Œå¤šé¡µæ‰“åŒ…ï¼Œè¿™é‡Œä¸è¿‡å¤šä»‹ç»</p>
<h4 id="3-2-splitChunks-åˆ†åŒ…é…ç½®"><a href="#3-2-splitChunks-åˆ†åŒ…é…ç½®" class="headerlink" title="3.2 splitChunks åˆ†åŒ…é…ç½®"></a>3.2 splitChunks åˆ†åŒ…é…ç½®</h4><p>optimization.splitChunks æ˜¯åŸºäº <a href="https://link.juejin.cn/?target=https://webpack.docschina.org/plugins/split-chunks-plugin/">SplitChunksPlugin</a> æ’ä»¶å®ç°çš„</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåªä¼šå½±å“åˆ°æŒ‰éœ€åŠ è½½çš„ chunksï¼Œå› ä¸ºä¿®æ”¹ initial chunks ä¼šå½±å“åˆ°é¡¹ç›®çš„ HTML æ–‡ä»¶ä¸­çš„è„šæœ¬æ ‡ç­¾ã€‚</p>
<p>webpack å°†æ ¹æ®ä»¥ä¸‹æ¡ä»¶è‡ªåŠ¨æ‹†åˆ† chunksï¼š</p>
<ul>
<li><p>æ–°çš„ chunk å¯ä»¥è¢«å…±äº«ï¼Œæˆ–è€…æ¨¡å—æ¥è‡ªäº <code>node_modules</code> æ–‡ä»¶å¤¹</p>
</li>
<li><p>æ–°çš„ chunk ä½“ç§¯å¤§äº 20kbï¼ˆåœ¨è¿›è¡Œ min+gz ä¹‹å‰çš„ä½“ç§¯ï¼‰</p>
</li>
<li><p>å½“æŒ‰éœ€åŠ è½½ chunks æ—¶ï¼Œå¹¶è¡Œè¯·æ±‚çš„æœ€å¤§æ•°é‡å°äºæˆ–ç­‰äº 30</p>
</li>
<li><p>å½“åŠ è½½åˆå§‹åŒ–é¡µé¢æ—¶ï¼Œå¹¶å‘è¯·æ±‚çš„æœ€å¤§æ•°é‡å°äºæˆ–ç­‰äº 30</p>
</li>
</ul>
<ol>
<li>é»˜è®¤é…ç½®ä»‹ç»</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">chunks</span>: <span class="string">&#x27;async&#x27;</span>, <span class="comment">// æœ‰æ•ˆå€¼ä¸º `all`ï¼Œ`async` å’Œ `initial`</span></span><br><span class="line">      <span class="attr">minSize</span>: <span class="number">20000</span>, <span class="comment">// ç”Ÿæˆ chunk çš„æœ€å°ä½“ç§¯ï¼ˆâ‰ˆ 20kb)</span></span><br><span class="line">      <span class="attr">minRemainingSize</span>: <span class="number">0</span>, <span class="comment">// ç¡®ä¿æ‹†åˆ†åå‰©ä½™çš„æœ€å° chunk ä½“ç§¯è¶…è¿‡é™åˆ¶æ¥é¿å…å¤§å°ä¸ºé›¶çš„æ¨¡å—</span></span><br><span class="line">      <span class="attr">minChunks</span>: <span class="number">1</span>, <span class="comment">// æ‹†åˆ†å‰å¿…é¡»å…±äº«æ¨¡å—çš„æœ€å° chunks æ•°ã€‚</span></span><br><span class="line">      <span class="attr">maxAsyncRequests</span>: <span class="number">30</span>, <span class="comment">// æœ€å¤§çš„æŒ‰éœ€(å¼‚æ­¥)åŠ è½½æ¬¡æ•°</span></span><br><span class="line">      <span class="attr">maxInitialRequests</span>: <span class="number">30</span>, <span class="comment">// æ‰“åŒ…åçš„å…¥å£æ–‡ä»¶åŠ è½½æ—¶ï¼Œè¿˜èƒ½åŒæ—¶åŠ è½½jsæ–‡ä»¶çš„æ•°é‡ï¼ˆåŒ…æ‹¬å…¥å£æ–‡ä»¶ï¼‰</span></span><br><span class="line">      <span class="attr">enforceSizeThreshold</span>: <span class="number">50000</span>,</span><br><span class="line">      <span class="attr">cacheGroups</span>: &#123; <span class="comment">// é…ç½®æå–æ¨¡å—çš„æ–¹æ¡ˆ</span></span><br><span class="line">        <span class="attr">defaultVendors</span>: &#123;</span><br><span class="line">          <span class="attr">test</span>: <span class="regexp">/[\/]node_modules[\/]/</span>,</span><br><span class="line">          <span class="attr">priority</span>: -<span class="number">10</span>,</span><br><span class="line">          <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">default</span>: &#123;</span><br><span class="line">          <span class="attr">minChunks</span>: <span class="number">2</span>,</span><br><span class="line">          <span class="attr">priority</span>: -<span class="number">20</span>,</span><br><span class="line">          <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol>
<li>é¡¹ç›®ä¸­çš„ä½¿ç”¨</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">cacheGroups</span>: &#123; <span class="comment">// é…ç½®æå–æ¨¡å—çš„æ–¹æ¡ˆ</span></span><br><span class="line">        <span class="attr">default</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">styles</span>: &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;styles&#x27;</span>,</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.(s?css|less|sass)$/</span>,</span><br><span class="line">            <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">            <span class="attr">enforce</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">priority</span>: <span class="number">10</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">common</span>: &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;chunk-common&#x27;</span>,</span><br><span class="line">            <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">            <span class="attr">minChunks</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">maxInitialRequests</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="attr">minSize</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">priority</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">enforce</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">vendors</span>: &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;chunk-vendors&#x27;</span>,</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">            <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">            <span class="attr">priority</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">enforce</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">         <span class="comment">// ... æ ¹æ®ä¸åŒé¡¹ç›®å†ç»†åŒ–æ‹†åˆ†å†…å®¹</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-ä»£ç æ‡’åŠ è½½"><a href="#3-3-ä»£ç æ‡’åŠ è½½" class="headerlink" title="3.3 ä»£ç æ‡’åŠ è½½"></a>3.3 ä»£ç æ‡’åŠ è½½</h4><p>é’ˆå¯¹é¦–å±åŠ è½½ä¸å¤ªéœ€è¦çš„ä¸€äº›èµ„æºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‡’åŠ è½½çš„æ–¹å¼å»å®ç°ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªå°ğŸŒ°</p>
<ul>
<li>éœ€æ±‚ï¼šç‚¹å‡»å›¾ç‰‡ç»™å›¾ç‰‡åŠ ä¸€ä¸ªæè¿°</li>
</ul>
<p><strong>1. æ–°å»ºå›¾ç‰‡æè¿°ä¿¡æ¯</strong></p>
<p><strong>desc.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ele = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">ele.<span class="property">innerHTML</span> = <span class="string">&#x27;æˆ‘æ˜¯å›¾ç‰‡æè¿°&#x27;</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = ele</span><br></pre></td></tr></table></figure>

<p><strong>2. ç‚¹å‡»å›¾ç‰‡å¼•å…¥æè¿°</strong></p>
<p><strong>index.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./main.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./sass.scss&#x27;</span></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;../public/avatar.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/fonts/iconfont.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">img.<span class="property">src</span> = logo</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;imgBox&#x27;</span>).<span class="title function_">appendChild</span>(img)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰éœ€åŠ è½½</span></span><br><span class="line">img.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&#x27;./desc&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; <span class="keyword">default</span>: element &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(element)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(element)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>3. æŸ¥çœ‹æ•ˆæœ</strong></p>
<ul>
<li>ç‚¹å‡»å‰</li>
</ul>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cdeeabe18da4e5f93edc40e429b30c8~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9c9ac178ffa340b8824e0dc18f8a6a1a~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<ul>
<li>ç‚¹å‡»å</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d1f0d664c3e34deda3e8270ce20f6116~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e2f2be3f57164f06863b0283ea396e12~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image.png"></p>
<h4 id="3-4-prefetch-ä¸-preload"><a href="#3-4-prefetch-ä¸-preload" class="headerlink" title="3.4 prefetch ä¸ preload"></a>3.4 prefetch ä¸ preload</h4><p>ä¸Šé¢æˆ‘ä»¬ä½¿ç”¨å¼‚æ­¥åŠ è½½çš„æ–¹å¼å¼•å…¥å›¾ç‰‡çš„æè¿°ï¼Œä½†æ˜¯å¦‚æœéœ€è¦å¼‚æ­¥åŠ è½½çš„æ–‡ä»¶æ¯”è¾ƒå¤§æ—¶ï¼Œåœ¨ç‚¹å‡»çš„æ—¶å€™å»åŠ è½½ä¹Ÿä¼šå½±å“åˆ°æˆ‘ä»¬çš„ä½“éªŒï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ prefetch æ¥è¿›è¡Œé¢„æ‹‰å–</p>
<h5 id="3-4-1-prefetch"><a href="#3-4-1-prefetch" class="headerlink" title="3.4.1 prefetch"></a>3.4.1 prefetch</h5><blockquote>
<ul>
<li><strong>prefetch</strong> (é¢„è·å–)ï¼šæµè§ˆå™¨ç©ºé—²çš„æ—¶å€™è¿›è¡Œèµ„æºçš„æ‹‰å–</li>
</ul>
</blockquote>
<p>æ”¹é€ ä¸€ä¸‹ä¸Šé¢çš„ä»£ç </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‰éœ€åŠ è½½</span></span><br><span class="line">img.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span>( <span class="comment">/* webpackPrefetch: true */</span> <span class="string">&#x27;./desc&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; <span class="keyword">default</span>: element &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(element)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(element)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="3-4-2-preload"><a href="#3-4-2-preload" class="headerlink" title="3.4.2 preload"></a>3.4.2 preload</h5><blockquote>
<ul>
<li><strong>preload</strong> (é¢„åŠ è½½)ï¼šæå‰åŠ è½½åé¢ä¼šç”¨åˆ°çš„å…³é”®èµ„æº</li>
<li>âš ï¸ å› ä¸ºä¼šæå‰æ‹‰å–èµ„æºï¼Œå¦‚æœä¸æ˜¯ç‰¹æ®Šéœ€è¦ï¼Œè°¨æ…ä½¿ç”¨</li>
</ul>
</blockquote>
<p>å®˜ç½‘ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="comment">/* webpackPreload: true */</span> <span class="string">&#x27;ChartingLibrary&#x27;</span>);</span><br></pre></td></tr></table></figure>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-20221019-iq"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/10/19/20221019-iq/"
    >è¯•æ™ºåŠ›é¢˜</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2022/10/19/20221019-iq/" class="article-date">
  <time datetime="2022-10-18T16:00:00.000Z" itemprop="datePublished">2022-10-19</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9D%A2%E8%AF%95/">é¢è¯•</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
 
      <script src="//cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
      <!-- <script src="//dqtwdd.top/cdn/article-insert/article-insert.js?v_0.2"></script> -->
      <!-- <script>
        if (location.pathname.length > 1) {
          let title = $('[itemprop="name"]')[0].innerHTML.replace(
            /^\s*|\s*$/g,
            ''
          );
          console.log('pathname', title, location.pathname.length);
        }
      </script> -->
      <h1 id="å¸¸è§é¢è¯•æ™ºåŠ›é¢˜æ€»ç»“"><a href="#å¸¸è§é¢è¯•æ™ºåŠ›é¢˜æ€»ç»“" class="headerlink" title="å¸¸è§é¢è¯•æ™ºåŠ›é¢˜æ€»ç»“"></a>å¸¸è§é¢è¯•æ™ºåŠ›é¢˜æ€»ç»“</h1><p>æœ¬éƒ¨åˆ†ä¸»è¦æ˜¯ç¬”è€…åœ¨ç»ƒä¹ å¸¸è§é¢è¯•æ™ºåŠ›é¢˜æ‰€åšçš„ç¬”è®°ï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œå¸Œæœ›å¤§å®¶æŒ‡å‡ºï¼</p>
<h2 id="å¸¸è§æ™ºåŠ›é¢˜"><a href="#å¸¸è§æ™ºåŠ›é¢˜" class="headerlink" title="å¸¸è§æ™ºåŠ›é¢˜"></a>å¸¸è§æ™ºåŠ›é¢˜</h2><ol>
<li><p>æ—¶é’ˆä¸åˆ†é’ˆå¤¹è§’åº¦æ•°é—®é¢˜ï¼Ÿ</p>
<p>åˆ†æï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å½“æ—¶é—´ä¸º m ç‚¹ n åˆ†æ—¶ï¼Œå…¶æ—¶é’ˆä¸åˆ†é’ˆå¤¹è§’çš„åº¦æ•°ä¸ºå¤šå°‘ï¼Ÿ</span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬å¯ä»¥è¿™æ ·è€ƒè™‘ï¼Œåˆ†é’ˆæ¯èµ°ä¸€æ ¼ä¸º 6 åº¦ï¼Œåˆ†é’ˆæ¯èµ°ä¸€æ ¼å¯¹åº”çš„æ—¶é’ˆä¼šèµ° 0.5 åº¦ã€‚</span><br><span class="line"></span><br><span class="line">æ—¶é’ˆæ¯èµ°ä¸€æ ¼ä¸º 30 åº¦ã€‚</span><br><span class="line"></span><br><span class="line">å› æ­¤ï¼Œæ—¶é’ˆèµ°è¿‡çš„åº¦æ•°ä¸º m * 30 + n * 0.5ï¼Œåˆ†é’ˆèµ°è¿‡çš„åº¦æ•°ä¸º n * 6ã€‚</span><br><span class="line"></span><br><span class="line">å› æ­¤æ—¶é’ˆä¸åˆ†é’ˆçš„å¤¹è§’åº¦æ•°ä¸º |m * 30 + n * 0.5 - n * 6|;</span><br></pre></td></tr></table></figure>

<p>ç­”æ¡ˆï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å› æ­¤æ—¶é’ˆä¸åˆ†é’ˆçš„å¤¹è§’åº¦æ•°ä¸º |m * 30 + n * 0.5 - n * 6|;</span><br></pre></td></tr></table></figure>

<p>è¯¦ç»†èµ„æ–™å‚è€ƒï¼š<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/prstaxy/article/details/22210829">ã€Šé¢è¯•æ™ºåŠ›é¢˜ â€” æ—¶é’ˆä¸åˆ†é’ˆå¤¹è§’åº¦æ•°é—®é¢˜ã€‹</a></p>
</li>
<li><p>ç”¨ 3 å‡ï¼Œ5 å‡æ¯å­æ€ä¹ˆé‡å‡º 4 å‡æ°´ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰å°† 5 å‡æ¯å­è£…æ»¡æ°´ï¼Œç„¶åå€’å…¥ 3 å‡æ¯å­ä¸­ï¼Œä¹‹å 5 å‡æ¯å­è¿˜å‰© 2 å‡æ°´ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰å°† 3 å‡æ¯å­çš„æ°´å€’å‡ºï¼Œç„¶åå°† 5 å‡æ¯å­ä¸­çš„ 2 å‡æ°´å€’å…¥ 3 å‡æ¯å­ä¸­ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ3ï¼‰å°† 5 å‡æ¯å­è£…æ»¡æ°´ï¼Œç„¶åå‘ 3 å‡æ¯å­ä¸­å€’æ°´ï¼Œç›´åˆ° 3 å‡æ¯å­è£…æ»¡ä¸ºæ­¢ï¼Œæ­¤æ—¶ 5 å‡æ¯å­ä¸­å°±è¿˜å‰© 4 å‡æ°´ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>å››ä¸ªè¯ç½ä¸­æœ‰ä¸€ä¸ªæµ‘æµŠçš„è¯ç½ï¼Œæµ‘æµŠçš„æ¯ç‰‡è¯ç‰‡éƒ½æ¯”å…¶ä»–ä¸‰ä¸ªå¹²å‡€çš„è¯ç½å¤šä¸€å…‹ï¼Œå¦‚ä½•åªç”¨ä¸€æ¬¡å¤©å¹³æ‰¾å‡ºæµ‘æµŠçš„è¯ç½ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ç”±äºæµ‘æµŠçš„æ¯ç‰‡è¯ç‰‡æ¯”æ­£å¸¸è¯ç‰‡éƒ½å¤šå‡ºäº†ä¸€å…‹ï¼Œå› æ­¤æˆ‘è®¤ä¸ºå¯ä»¥é€šè¿‡æ§åˆ¶è¯ç‰‡çš„æ•°é‡æ¥å®ç°åˆ¤æ–­ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ1ï¼‰é¦–å…ˆå°†æ¯ä¸ªè¯ç½è¿›è¡Œç¼–å·ï¼Œåˆ†åˆ«æ ‡è®°ä¸º 1ã€2ã€3ã€4 å·è¯ç½ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰ç„¶åä» 1 å·è¯ç½ä¸­å–å‡º 1 ç‰‡è¯ç‰‡ï¼Œä» 2 å·è¯ç½ä¸­å–å‡º 2 ç‰‡è¯ç‰‡ï¼Œä» 3 å·è¯ç½ä¸­å–å‡º 3 ç‰‡è¯ç‰‡ï¼Œä» 4 å·è¯ç½ä¸­å–å‡º 4</span><br><span class="line">    ç‰‡è¯ç‰‡ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ3ï¼‰å°† 10 ç‰‡è¯ç‰‡ä½¿ç”¨å¤©å¹³ç§°é‡ï¼Œè¯ç‰‡çš„é‡é‡æ¯”æ­£å¸¸é‡é‡å¤šå‡ºå‡ å…‹ï¼Œå°±æ˜¯å“ªä¸€å·è¯ç½çš„é—®é¢˜ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>å››å¼ å¡ç‰‡ï¼Œå¡ç‰‡æ­£é¢æ˜¯æ•°å­—ï¼Œåé¢æ˜¯å­—æ¯ã€‚ç°åœ¨æ¡Œä¸Šå››å¼ å¡ç‰‡ï¼ŒçŠ¶æ€ä¸º a 1 b 2 ç°åœ¨æˆ‘æƒ³è¦è¯æ˜ a çš„åé¢å¿…ç„¶æ˜¯ 1<br>æˆ‘åªèƒ½ç¿»ä¸¤å¼ ç‰Œï¼Œæˆ‘ç¿»å“ªä¸¤å¼ ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘è®¤ä¸ºè¯æ˜ a çš„åé¢ä¸€å®šæ˜¯ 1 çš„å……è¦æ¡ä»¶ä¸º a çš„åé¢ä¸º 1ï¼Œå¹¶ä¸” 2 çš„åé¢ä¸èƒ½ä¸º aï¼Œå› æ­¤åº”è¯¥ç¿» a å’Œ 2 ä¸¤å¼ ç‰Œã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>èµ›é©¬é—®é¢˜ï¼Œ25 åŒ¹é©¬ï¼Œ5 ä¸ªèµ›é“ï¼Œæœ€å°‘å‡ æ¬¡èƒ½é€‰å‡ºæœ€å¿«çš„ä¸‰åŒ¹é©¬ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘è®¤ä¸ºä¸€å…±è‡³å°‘éœ€è¦ 7 æ¬¡æ‰èƒ½é€‰å‡ºæœ€å¿«çš„ä¸‰åŒ¹é©¬ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ1ï¼‰é¦–å…ˆï¼Œæˆ‘ä»¬å°† 25 åŒ¹é©¬åˆ†ä¸º 5 ç»„ï¼Œæ¯ç»„è¿›è¡Œæ¯”èµ›ï¼Œé€‰å‡ºæ¯ç»„æœ€å¿«çš„ä¸‰åŒ¹é©¬ï¼Œå…¶ä½™çš„é©¬ç”±äºå·²ç»ä¸å¯èƒ½æˆä¸ºå‰ä¸‰äº†ï¼Œå› æ­¤å¯ä»¥ç›´</span><br><span class="line">    æ¥æ·˜æ±°æ‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç°åœ¨è¿˜å‰©ä¸‹äº† 15 åŒ¹é©¬ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰ç„¶åæˆ‘ä»¬å°† 5 ç»„ä¸­çš„ç¬¬ä¸€åæ¥è¿›è¡Œä¸€è½®æ¯”èµ›ï¼Œæœ€ç»ˆçš„ç»“æœèƒ½å¤Ÿç¡®å®šæœ€å¿«çš„é©¬ä¸€å®šæ˜¯ç¬¬ä¸€åï¼Œå››äº”åçš„é©¬ä»¥åŠå®ƒä»¬å¯¹åº”ç»„çš„å…¶ä½™</span><br><span class="line">    é©¬å°±å¯ä»¥æ·˜æ±°æ‰äº†ï¼Œå› ä¸ºå®ƒä»¬å·²ç»æ²¡æœ‰è¿›å…¥å‰ä¸‰çš„æœºä¼šäº†ã€‚å¹¶ä¸”ç¬¬äºŒåé‚£ä¸€ç»„çš„ç¬¬ä¸‰åå’Œç¬¬ä¸‰ç»„çš„ç¬¬äºŒç¬¬ä¸‰åéƒ½å¯ä»¥æ·˜æ±°æ‰äº†ï¼Œ</span><br><span class="line">    å®ƒä»¬ä¹Ÿæ²¡æœ‰è¿›å…¥å‰ä¸‰çš„æœºä¼šäº†ã€‚å› æ­¤æˆ‘ä»¬æœ€ç»ˆå‰©ä¸‹äº†ç¬¬ä¸€åé‚£ä¸€ç»„çš„äºŒä¸‰åå’Œç¬¬äºŒåé‚£ä¸€ç»„çš„ä¸€äºŒåï¼Œä»¥åŠç¬¬ä¸‰åä¸€å…± 5 åŒ¹é©¬ï¼Œ</span><br><span class="line">    å®ƒä»¬éƒ½æœ‰ç«äº‰æœ€å¿«ç¬¬äºŒç¬¬ä¸‰çš„æœºä¼šã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ3ï¼‰æœ€åä¸€æ¬¡å¯¹æœ€åçš„ 5 åŒ¹é©¬è¿›è¡Œæ¯”èµ›ï¼Œé€‰æ‹©æœ€å¿«çš„ä¸€äºŒåä½œä¸ºæœ€ç»ˆç»“æœçš„äºŒä¸‰åï¼Œå› æ­¤å°±èƒ½å¤Ÿé€šè¿‡ 7 æ¬¡æ¯”è¾ƒï¼Œé€‰æ‹©å‡ºæœ€å¿«çš„é©¬ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>äº”é˜Ÿå¤«å¦‡å‚åŠ èšä¼šï¼Œæ¯ä¸ªäººä¸èƒ½å’Œè‡ªå·±çš„é…å¶æ¡æ‰‹ï¼Œåªèƒ½æœ€å¤šå’Œä»–äººæ¡æ‰‹ä¸€æ¬¡ã€‚A é—®äº†å…¶ä»–äººï¼Œå‘ç°æ¯ä¸ªäººçš„æ¡æ‰‹æ¬¡æ•°éƒ½<br>ä¸åŒï¼Œé‚£ä¹ˆ A çš„é…å¶æ¡æ‰‹äº†å‡ æ¬¡ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰ç”±äºæ¯ä¸ªäººä¸èƒ½å’Œè‡ªå·±çš„é…å¶æ¡æ‰‹ï¼Œå¹¶ä¸”æœ€å¤šåªèƒ½å’Œä»–äººæ¡æ‰‹ä¸€æ¬¡ï¼Œå› æ­¤ä¸€ä¸ªäººæœ€å¤šèƒ½æ¡ 8 æ¬¡æ‰‹ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰å› ä¸º A é—®äº†é™¤è‡ªå·±é…å¶çš„å…¶ä»–äººï¼Œæ¯ä¸ªäººçš„æ¡æ‰‹æ¬¡æ•°éƒ½ä¸åŒã€‚å› æ­¤ä¸€å…±æœ‰ä¹ç§æ¡æ‰‹çš„æƒ…å†µï¼Œç”±äºä¸€ä¸ªäººæœ€å¤šåªèƒ½æ¡ 8 æ¬¡æ‰‹ï¼Œå› </span><br><span class="line">    æ­¤æ¡æ‰‹çš„æƒ…å†µåˆ†åˆ«ä¸º 0ã€1ã€2ã€3ã€4ã€5ã€6ã€7ã€8 è¿™ä¹ç§æƒ…å†µã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ3ï¼‰æˆ‘ä»¬é¦–å…ˆåˆ†ææ¡äº† 8 æ¬¡æ‰‹çš„äººï¼Œç”±äºä»–å’Œé™¤äº†è‡ªå·±é…å¶çš„æ¯ä¸€ä¸ªäººéƒ½æ¡äº†ä¸€æ¬¡æ‰‹ï¼Œå› æ­¤å…¶ä»–äººçš„æ¡æ‰‹æ¬¡æ•°éƒ½ä¸ä¸º 0ï¼Œå› æ­¤åªæœ‰</span><br><span class="line">    ä»–çš„é…å¶æ¡æ‰‹æ¬¡æ•°ä¸º0ï¼Œç”±æ­¤æˆ‘ä»¬å¯ä»¥çŸ¥é“æ¡æ‰‹æ¬¡æ•°ä¸º 8 çš„äººå’Œæ¡æ‰‹æ¬¡æ•°ä¸º 0 çš„äººæ˜¯é…å¶ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ4ï¼‰æˆ‘ä»¬å†æ¥åˆ†ææ¡äº† 7 æ¬¡æ‰‹çš„äººï¼Œä»–å’Œé™¤äº†æ¡äº† 0 æ¬¡æ‰‹ä»¥å¤–çš„äººéƒ½æ¡äº†ä¸€æ¬¡æ‰‹ï¼Œç”±äºæ¡äº† 8 æ¬¡æ‰‹çš„äººå’Œå…¶ä½™äººä¹Ÿéƒ½æ¡äº†ä¸€æ¬¡æ‰‹</span><br><span class="line">    ï¼Œå› æ­¤å…¶ä»–äººçš„æ¡æ‰‹æ¬¡æ•°è‡³å°‘ä¸º 2 ï¼Œå› æ­¤åªæœ‰ä»–çš„é…å¶çš„æ¡æ‰‹æ¬¡æ•°æ‰èƒ½ä¸º 1ã€‚ç”±æ­¤æˆ‘ä»¬å¯ä»¥çŸ¥é“æ¡æ‰‹æ¬¡æ•°ä¸º 7 çš„äººå’Œæ¡æ‰‹æ¬¡æ•°</span><br><span class="line">    ä¸º 1 çš„äººæ˜¯é…å¶ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ5ï¼‰ä¾æ¬¡å¯ä»¥ç±»æ¨ï¼Œæ¡æ‰‹æ¬¡æ•°ä¸º 6 çš„äººå’Œæ¡æ‰‹æ¬¡æ•°ä¸º 2 çš„äººä¸ºé…å¶ï¼Œæ¡æ‰‹æ¬¡æ•°ä¸º 5 çš„äººå’Œæ¡æ‰‹æ¬¡æ•°ä¸º 3 çš„äººä¸ºé…å¶ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ6ï¼‰æœ€ç»ˆå‰©ä¸‹äº†æ¡æ‰‹æ¬¡æ•°ä¸º 4 çš„äººï¼ŒæŒ‰ç…§è§„å¾‹æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ä»–çš„é…å¶çš„æ¡æ‰‹æ¬¡æ•°ä¹Ÿä¸º4ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ7ï¼‰ç”±äº A å’Œå…¶ä»–äººçš„æ¡æ‰‹æ¬¡æ•°éƒ½ä¸åŒï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¾—çŸ¥æ¡æ‰‹æ¬¡æ•°ä¸º 4 çš„äººå°±æ˜¯ Aã€‚å› æ­¤ä»–çš„é…å¶çš„æ¡æ‰‹æ¬¡æ•°ä¸º 4 ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½ åªèƒ½å¸¦è¡Œèµ° 60 å…¬é‡Œçš„æ²¹ï¼Œåªèƒ½åœ¨èµ·å§‹ç‚¹åŠ æ²¹ï¼Œå¦‚ä½•ç©¿è¿‡ 80 å…¬é‡Œçš„æ²™æ¼ ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰å…ˆèµ°åˆ°ç¦»èµ·ç‚¹ 20 å…¬é‡Œçš„åœ°æ–¹ï¼Œç„¶åæ”¾ä¸‹ 20 å…¬é‡Œçš„æ²¹åœ¨è¿™ï¼Œç„¶åè¿”å›èµ·ç‚¹åŠ æ²¹ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰å½“ç¬¬äºŒæ¬¡åˆ°è¾¾è¿™æ—¶ï¼Œè½¦è¿˜å‰© 40 å…¬é‡Œçš„æ²¹ï¼ŒåŠ ä¸Šä¸Šä¸€æ¬¡æ”¾åœ¨è¿™çš„ 20 å…¬é‡Œçš„æ²¹ï¼Œä¸€å…±å°±æœ‰ 60 å…¬é‡Œçš„æ²¹ï¼Œèƒ½å¤Ÿèµ°å®Œå‰©ä¸‹çš„è·¯</span><br><span class="line">    ç¨‹ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>çƒ§ä¸€æ ¹ä¸å‡åŒ€çš„ç»³è¦ç”¨ä¸€ä¸ªå°æ—¶ï¼Œå¦‚ä½•ç”¨å®ƒæ¥åˆ¤æ–­ä¸€ä¸ªå°æ—¶åäº”åˆ†é’Ÿï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ä¸€å…±éœ€è¦ä¸‰æ ¹ç»³å­ï¼Œå‡è®¾åˆ†åˆ«ä¸º 1ã€2ã€3 å·ç»³å­ï¼Œæ¯ä¸ªç»³å­ä¸€å…±æœ‰ Aã€B ä¸¤ç«¯ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ1ï¼‰é¦–å…ˆç‚¹ç‡ƒ 1 å·ç»³å­çš„ Aã€B ä¸¤ç«¯ï¼Œç„¶åç‚¹ç‡ƒ 2 å·ç»³å­çš„ A ç«¯ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰å½“ 1 å·ç»³å­ç‡ƒå°½æ—¶ï¼Œæ­¤æ—¶è¿‡å»äº†åŠå°æ—¶ï¼Œç„¶ååŒæ—¶ç‚¹ç‡ƒ 2 å·ç»³å­çš„ B ç«¯ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ3ï¼‰å½“ 2 å·ç»³å­ç‡ƒå°½æ—¶ï¼Œæ­¤æ—¶åˆè¿‡å»äº† 15 åˆ†é’Ÿï¼Œç„¶ååŒæ—¶ç‚¹ç‡ƒ 3 å·ç»³å­çš„ Aã€B ä¸¤ç«¯ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ4ï¼‰å½“ 3 å·ç»³å­ç‡ƒå°½æ—¶ï¼Œåˆè¿‡å»äº†åŠå°æ—¶ï¼Œä»¥æ­¤ä¸€å…±åŠ èµ·æ¥è¿‡å»äº†ä¸€ä¸ªå°æ—¶åäº”åˆ†é’Ÿã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ‰ 7 å…‹ã€2 å…‹ç ç å„ä¸€ä¸ªï¼Œå¤©å¹³ä¸€åªï¼Œå¦‚ä½•åªç”¨è¿™äº›ç‰©å“ä¸‰æ¬¡å°† 140 å…‹çš„ç›åˆ†æˆ 50ã€90 å…‹å„ä¸€ä»½ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰ ç¬¬ä¸€æ¬¡ç”¨ 7 å…‹ç ç å’Œ 2 å…‹ç ç ç§°å– 9 å…‹ç›ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰ ç¬¬äºŒæ¬¡å†ç”¨ç¬¬ä¸€æ¬¡ç§°å–çš„ç›å’Œç ç ç§°å– 16 å…‹ç›ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ3ï¼‰ ç¬¬ä¸‰æ¬¡å†ç”¨å‰ä¸¤æ¬¡ç§°å–çš„ç›å’Œç ç ç§°å– 25 å…‹ç›ï¼Œè¿™æ ·å°±æ€»å…±ç§°å–äº† 50 å…‹ç›ï¼Œå‰©ä¸‹çš„å°±æ˜¯ 90 å…‹ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ‰ä¸€è¾†ç«è½¦ä»¥æ¯å°æ—¶ 15 å…¬é‡Œçš„é€Ÿåº¦ç¦»å¼€æ´›æ‰çŸ¶ç›´å¥”çº½çº¦ï¼Œå¦ä¸€è¾†ç«è½¦ä»¥ç¬¬ Â  å°æ—¶ 20 å…¬é‡Œçš„é€Ÿåº¦ä»çº½çº¦å¼€å¾€æ´›æ‰çŸ¶ã€‚å¦‚æœ<br>æœ‰ä¸€åªé¸Ÿï¼Œä»¥å¤– 30 å…¬é‡Œæ¯å°æ—¶çš„é€Ÿåº¦å’Œ Â  ä¸¤è¾†ç«è½¦ç°æ—¶å¯åŠ¨ï¼Œä»æ´›æ‰çŸ¶å‡ºå‘ï¼Œç¢°åˆ°å¦è¾†è½¦åè¿”å›ï¼Œä¾æ¬¡åœ¨ä¸¤è¾†ç«è½¦æ¥å›<br>çš„é£è¡Œï¼Œç›´é“ä¸¤é¢è¾†ç«è½¦ç›¸é‡ï¼Œè¯·é—®ï¼Œè¿™åªå°é¸Ÿé£è¡Œäº†å¤šé•¿è·ç¦»ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç”±äºå°é¸Ÿä¸€ç›´éƒ½åœ¨é£ï¼Œç›´åˆ°ä¸¤è½¦ç›¸é‡æ—¶æ‰åœä¸‹æ¥ã€‚å› æ­¤å°é¸Ÿé£è¡Œçš„æ—¶é—´ä¸ºä¸¤è½¦ç›¸é‡çš„æ—¶é—´ï¼Œç”±äºä¸¤è½¦æ˜¯ç›¸å‘è€Œè¡Œï¼Œå› æ­¤</span><br><span class="line">ä¸¤è½¦ç›¸é‡çš„æ—¶é—´ä¸ºæ€»è·¯ç¨‹é™¤ä»¥ä¸¤è½¦çš„é€Ÿåº¦ä¹‹å’Œï¼Œç„¶åå†ç”¨é£è¡Œçš„æ—¶é—´å»ä¹˜ä»¥å°é¸Ÿçš„é€Ÿåº¦ï¼Œå°±èƒ½å¤Ÿå¾—å‡ºå°é¸Ÿé£è¡Œçš„è·ç¦»ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½ æœ‰ä¸¤ä¸ªç½å­ï¼Œ50 ä¸ªçº¢è‰²å¼¹çƒï¼Œ50 ä¸ªè“è‰²å¼¹çƒï¼Œéšæœºé€‰å‡ºä¸€ä¸ªç½å­ï¼Œéšæœºé€‰å–å‡ºä¸€ä¸ªå¼¹çƒæ”¾å…¥ç½å­ï¼Œæ€ä¹ˆç»™çº¢è‰²å¼¹çƒæœ€<br>å¤§çš„é€‰ä¸­æœºä¼šï¼Ÿåœ¨ä½ çš„è®¡åˆ’ä¸­ï¼Œå¾—åˆ°çº¢çƒçš„å‡†ç¡®å‡ ç‡æ˜¯å¤šå°‘ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€ä¸ªç½å­é‡Œæ”¾ä¸€ä¸ªçº¢çƒï¼Œç¬¬äºŒä¸ªç½å­é‡Œæ”¾å‰©ä½™çš„çƒï¼Œè¿™æ ·æ¦‚ç‡æ¥è¿‘75%ï¼Œè¿™æ˜¯æ¦‚ç‡æœ€å¤§çš„æ–¹æ³•</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡è®¾ä½ æœ‰ 8 ä¸ªçƒï¼Œå…¶ä¸­ä¸€ä¸ªç•¥å¾®é‡ä¸€äº›ï¼Œä½†æ˜¯æ‰¾å‡ºè¿™ä¸ªçƒçš„æƒŸä¸€æ–¹æ³•æ˜¯å°†ä¸¤ä¸ªçƒæ”¾åœ¨å¤©å¹³ä¸Šå¯¹æ¯”ã€‚æœ€å°‘è¦ç§°å¤šå°‘æ¬¡æ‰èƒ½æ‰¾<br>å‡ºè¿™ä¸ªè¾ƒé‡çš„çƒï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æœ€å°‘ä¸¤æ¬¡å¯ä»¥ç§°å‡ºã€‚</span><br><span class="line"></span><br><span class="line">é¦–å…ˆå°† 8 ä¸ªçƒåˆ†ä¸º 3 ç»„ï¼Œå…¶ä¸­ä¸¤ç»„ä¸º 3 ä¸ªçƒï¼Œä¸€ç»„ä¸º 2 ä¸ªçƒã€‚</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸€æ¬¡å°†ä¸¤ç»„ä¸‰ä¸ªçš„çƒè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸¤è¾¹ç›¸ç­‰ï¼Œåˆ™è¯´æ˜é‡çš„çƒåœ¨æœ€åä¸€ç»„é‡Œã€‚ç¬¬äºŒæ¬¡å°†æœ€åä¸€ç»„çš„çƒè¿›è¡Œæ¯”è¾ƒå³å¯ã€‚å¦‚</span><br><span class="line">æœä¸¤è¾¹ä¸ç­‰ï¼Œåˆ™è¯´æ˜é‡çš„çƒåœ¨è¾ƒé‡çš„ä¸€è¾¹ï¼Œç¬¬äºŒæ¬¡åªéœ€ä»è¿™ä¸€ç»„ä¸­éšæœºå–ä¸¤çƒå‡ºæ¥æ¯”è¾ƒå³å¯åˆ¤æ–­ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æˆ¿é‡Œæœ‰ä¸‰ç›ç¯ï¼Œæˆ¿å¤–æœ‰ä¸‰ä¸ªå¼€å…³ï¼Œåœ¨æˆ¿å¤–çœ‹ä¸è§æˆ¿å†…çš„æƒ…å†µï¼Œä½ åªèƒ½è¿›é—¨ä¸€æ¬¡ï¼Œä½ ç”¨ä»€ä¹ˆæ–¹æ³•æ¥åŒºåˆ†é‚£ä¸ªå¼€å…³æ§åˆ¶é‚£ä¸€<br>ç›ç¯ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰é¦–å…ˆæ‰“å¼€ä¸€ç›ç¯ 10 åˆ†é’Ÿï¼Œç„¶åæ‰“å¼€ç¬¬äºŒç›ã€‚</span><br><span class="line">ï¼ˆ2ï¼‰è¿›å…¥æˆ¿é—´ï¼Œçœ‹çœ‹é‚£ç›ç¯äº®ï¼Œæ‘¸æ‘¸é‚£ç›ç¯çƒ­ï¼Œçƒ­çš„æ˜¯ç¬¬ä¸€ä¸ªå¼€å…³æ‰“å¼€çš„ï¼Œäº®çš„æ˜¯ç¬¬äºŒä¸ªå¼€å…³æ‰“å¼€çš„ï¼Œè€Œå‰©ä¸‹çš„å°±æ˜¯ç¬¬ä¸‰ä¸ªå¼€å…³æ‰“å¼€</span><br><span class="line">    çš„ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»–ä»¬éƒ½å„è‡ªä¹°äº†ä¸¤å¯¹é»‘è¢œå’Œä¸¤å¯¹ç™½è¢œï¼Œå…«å¯¹è¢œå­çš„å¸ƒè´¨ã€å¤§å°å®Œå…¨ç›¸åŒï¼Œè€Œæ¯å¯¹è¢œå­éƒ½æœ‰ä¸€å¼ å•†æ ‡çº¸è¿ç€ã€‚ä¸¤ä½ç›²äººä¸å°å¿ƒ<br>å°†å…«å¯¹è¢œå­æ··åœ¨ä¸€èµ·ã€‚ä»–ä»¬æ¯äººæ€æ ·æ‰èƒ½å–å›é»‘è¢œå’Œç™½è¢œå„ä¸¤å¯¹å‘¢ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å°†æ¯ä¸€å¯¹è¢œå­åˆ†å¼€ï¼Œä¸€äººæ‹¿ä¸€åªè¢œå­ï¼Œå› ä¸ºè¢œå­ä¸åˆ†å·¦å³è„šçš„ï¼Œå› æ­¤æœ€åæ¯ä¸ªäººéƒ½èƒ½å–å›ç™½è¢œå’Œé»‘è¢œä¸¤å¯¹ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ‰ä¸‰ç­æ°´æœï¼Œä¸€ç­è£…çš„å…¨æ˜¯è‹¹æœï¼Œç¬¬äºŒç­è£…çš„å…¨æ˜¯æ©˜å­ï¼Œç¬¬ä¸‰ç­æ˜¯æ©˜å­ä¸è‹¹æœæ··åœ¨ä¸€èµ·ã€‚ç­ä¸Šçš„æ ‡ç­¾éƒ½æ˜¯éª—äººçš„ï¼Œï¼ˆå°±æ˜¯è¯´<br>ç­ä¸Šçš„æ ‡ç­¾éƒ½æ˜¯é”™çš„ï¼‰ä½ çš„ä»»åŠ¡æ˜¯æ‹¿å‡ºå…¶ä¸­ä¸€ç­ï¼Œä»é‡Œé¢åªæ‹¿ä¸€åªæ°´æœï¼Œç„¶åæ­£ç¡®å†™å‡ºä¸‰ç­æ°´æœçš„æ ‡ç­¾ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä»æ··åˆæ ‡ç­¾é‡Œå–å‡ºä¸€ä¸ªæ°´æœï¼Œå–å‡ºçš„æ˜¯ä»€ä¹ˆæ°´æœï¼Œå°±å†™ä¸Šç›¸åº”çš„æ ‡ç­¾ã€‚</span><br><span class="line"></span><br><span class="line">å¯¹åº”æ°´æœæ ‡ç­¾çš„ç­çš„æ ‡ç­¾æ”¹ä¸ºå¦ä¸€ç§æ°´æœã€‚</span><br><span class="line"></span><br><span class="line">å¦ä¸€ç§æ°´æœæ ‡ç­¾çš„æ¡†æ”¹ä¸ºæ··åˆã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€ä¸ªç­çº§ 60%å–œæ¬¢è¶³çƒï¼Œ70%å–œæ¬¢ç¯®çƒï¼Œ80%å–œæ¬¢æ’çƒï¼Œé—®å³ä¸‰ç§çƒéƒ½å–œæ¬¢å æ¯”æœ‰å¤šå°‘ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰é¦–å…ˆç¡®å®šæœ€å¤šçš„ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯ 60% å–œæ¬¢è¶³çƒçš„äººåŒæ—¶ä¹Ÿå–œæ¬¢ç¯®çƒå’Œæ’çƒï¼Œæ­¤æ—¶ä¸ºä¸‰ç§çƒéƒ½å–œæ¬¢çš„äººçš„æœ€å¤§æ¯”ä¾‹ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰ç„¶åç¡®å®šæœ€å°çš„ä¸€ç§æƒ…å†µï¼Œæ ¹æ®é¢˜ç›®å¯ä»¥çŸ¥é“æœ‰ 40%çš„äººä¸å–œæ¬¢è¶³çƒï¼Œ30%çš„äººä¸å–œæ¬¢ç¯®çƒï¼Œ20%çš„äººä¸å–œæ¬¢æ’çƒï¼Œå› æ­¤æœ‰æœ€å¤š</span><br><span class="line">    90% çš„äººä¸‰ç§çƒä¸­æœ‰ä¸€ç§çƒä¸å–œæ¬¢ï¼Œå› æ­¤ä¸‰ç§çƒéƒ½å–œæ¬¢çš„äººçš„æœ€å°æ¯”ä¾‹ä¸º 10%ã€‚</span><br><span class="line"></span><br><span class="line">å› æ­¤ä¸‰ç§çƒéƒ½å–œæ¬¢çš„äººå æ¯”ä¸º 10%-60%</span><br></pre></td></tr></table></figure>
</li>
<li><p>äº”åªé¸¡äº”å¤©èƒ½ä¸‹äº”ä¸ªè›‹ï¼Œä¸€ç™¾å¤©ä¸‹ä¸€ç™¾ä¸ªè›‹éœ€è¦å¤šå°‘åªé¸¡ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">äº”åªé¸¡äº”å¤©èƒ½ä¸‹äº”ä¸ªè›‹ï¼Œå¹³å‡ä¸‹æ¥äº”åªé¸¡æ¯å¤©èƒ½ä¸‹ä¸€ä¸ªè›‹ï¼Œå› æ­¤äº”åªé¸¡ä¸€ç™¾å¤©å°±èƒ½å¤Ÿä¸‹ä¸€ç™¾ä¸ªè›‹ã€‚</span><br></pre></td></tr></table></figure>

<p>æ›´å¤šçš„æ™ºåŠ›é¢˜å¯ä»¥å‚è€ƒï¼š<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/hilyoo/article/details/4445858">ã€Šç»å…¸é¢è¯•æ™ºåŠ›é¢˜ 200+é¢˜å’Œè§£ç­”ã€‹</a></p>
</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">é¢è¯•</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/">ä¸‹ä¸€é¡µ</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2018-2024
        <i class="ri-heart-fill heart_icon"></i> WangDong
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>è®¿é—®äººæ•°:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>æµè§ˆæ¬¡æ•°:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="å’šå’šå’šå’šå’šæ£Ÿ"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="æœç´¢">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">æ”¯ä»˜å®</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">å¾®ä¿¡</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->


<script src="/js/clickBoom2.js"></script>


<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


<script src="/js/dz.js"></script>



    
  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/haru01.model.json"},"display":{"position":"right","width":250,"height":500},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>

</html>